{"version":3,"sources":["drone.png","story1.jpg","story2.jpg","story3.jpg","story4.jpg","logo.svg","colorTheme.js","devices.js","components/Feature.js","components/Button.js","components/ReadOnlyFeature.js","utils.js","components/DroneStory.js","components/StartView.js","components/Root.js","components/NewFeature.js","components/LoadingWidget.js","components/AddFeaturesView.js","components/NewStory.js","components/AddStoryView.js","components/SelectStoryView.js","selectOptions.js","components/FinishView.js","components/DoneView.js","components/ConsentView.js","components/TestView.js","components/Data_Story.js","components/Data_Feature.js","components/Data_Drone.js","components/DataView.js","components/AllStoriesView.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","theme","size","devices","mobileS","mobileM","mobileL","mobile","tablet","laptop","laptopL","desktop","desktopL","slide","keyframes","Wrapper","styled","div","Title","h3","Description","p","Overlay","FeatureButton","button","FeatureType","selectable","selected","disabled","placeHolder","Feature","props","state","overlay","this","featureType","onClick","setState","clickHandler","isDisabled","onMouseEnter","onMouseLeave","title","description","Component","small","NewFeature","isGibberish","string","minLength","length","toLowerCase","includes","pair","prob","line","i","charAt","substring","replace","normalizeString","model","Math","exp","detectGibberishFromModel","DroneWrapper","DroneImage","img","FixedFeatureWrapper","top","left","DroneName","h2","StoryWrapper","MainStory","SubStory","WriteButton","appear","StoryInputWrapper","StoryInput","textarea","StoryPrompt","AutoSave","characterInputCount","position","DroneStory","newSubStoryID","storyZoom","renderStoryInput","droneStory","newStories","autoSave","end","scrollIntoView","behavior","ref","onBlur","updateSubStory","src","logo","alt","drone","features","map","item","key","index","name","mainStory","text","el","placeholder","ev","value","_id","onChange","onDroneStoryChange","subStories","isFlagged","target","fetch","method","body","JSON","stringify","headers","then","response","json","data","createNewStory","push","updateDrone","StoryImage","StoryText","h1","StoryBoard","StartButton","fill","SampleStory","SampleStoryContent","SampleStoryText","SampleStoryTile","intervelRef","require","boards","boardDisplay","StartView","runStorySequence","storyIndex","clearInterval","document","setInterval","startClick","history","AddButton","TITLE_PLACEHOLDER","DESCRIPTION_PLACEHOLDER","titlePlaceholder","descriptionPlaceholder","onTitleChange","onKeyPress","onTitleKeyPress","onDescriptionChange","renderAddButton","preventDefault","refs","focus","handleAddClick","clear","DotWrapper","Dot","DOT_COUNT","LoadingWidget","runLoadingWidgetSequence","renderLoadingWidgetDots","dots","Header","HeaderText","ContentWrapper","RowWrapper","Row","RowHeader","CircleButton","Button","FeatureSet","FeaturePlaceholder","dummyArrayOfFour","featurePool","AddStoryView","handleFeaureClick","feature","FeatureTypes","displayMaxFeaturesAlert","featureSet","pop","splice","handleAddNewFeatureClick","visiblefeatureIndex","visibleFetures","selectedFetures","setFeatureSet","match","params","id","console","log","renderButton","bind","handlePreviousClick","slice","handleNextClick","renderScrollDots","FEATURE_SET_SIZE","alert","NAME_PLACEHOLDER","STORY_PLACEHOLDER","NewStory","droneName","droneNamePlaceholder","droneStoryPlaceholder","story","changeHandler","onDroneNameChange","callback","callbackhandler","updateStory","createdBy","DroneStroryWrpper","dronePool","SelectStoryView","droneSet","setDroneSet","writeCallbackHandler","DRONE_SET_SIZE","countries","ageRanges","genderOptions","droneOwnership","ThankYouText","Message","PromptContainer","Prompt","TextField","input","SingleTextField","Select","select","SkipButton","NameEmailWrapper","FinishView","isOwning","ageRange","gender","country","background","email","selectedIndex","hidden","handleSubmit","user_id","DoneView","drones","ConsentView","window","scrollTo","href","view","HeaderContainer","SubHeader","ModuleContainer","PlaceHolder","Module","ScrollContainer","FirstModule","Circle","CircleFull","CircleEnabled","TitleDisabled","TestView","P","ToggleButton","flagged","Data_Story","catchGibberish","prevProps","filter","Data_Feature","updateFeature","Data_Drone","FilterButton","LeftWrapper","RightWrapper","DroneListItem","DataView","selectedDrone","dronesCSV","forEach","populateDroneCSV","droneObj","superPowers","createdDate","filename","reverse","TitleText","CreateButton","AllStoriesView","createButtonText","undefined","createButton","App","className","exact","path","component","Features","Story","AllStroriesView","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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AAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAmB,IAAM,gBAAgB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,iBAAiB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,mBAAmB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,iBAAiB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,mBAAmB,MAAM,mBAAmB,IAAM,kBAAkB,MAAM,kBAAkB,MAAM,kBAAkB,MAAM,kBAAkB,MAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,oBAAqB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,gBAAgB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,mBAAmB,IAAM,gBAAgB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,gBAAgB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iB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","file":"static/js/main.e421e169.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/drone.aff27fc6.png\";","module.exports = __webpack_public_path__ + \"static/media/story1.862e56b3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/story2.2530fae5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/story3.db757299.jpg\";","module.exports = __webpack_public_path__ + \"static/media/story4.f838a59f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","export const theme = {\n    primaryColor: '#0F3C7A',\n    secondaryColor:\"#B3CE00\"\n  };","const size = {\n  mobileS: '320px',\n  mobileM: '375px',\n  mobileL: '800px',\n  tablet: '768px',\n  laptop: '1024px',\n  laptopL: '1440px',\n  desktop: '2560px'\n}\n\nexport const devices = {\n  mobileS: `(max-width: ${size.mobileS})`,\n  mobileM: `(max-width: ${size.mobileM})`,\n  mobileL: `(max-width: ${size.mobileL})`,\n  mobile: `(max-width: ${size.mobileL})`,\n  tablet: `(max-width: ${size.tablet})`,\n  laptop: `(max-width: ${size.laptop})`,\n  laptopL: `(max-width: ${size.laptopL})`,\n  desktop: `(max-width: ${size.desktop})`,\n  desktopL: `(max-width: ${size.desktop})`\n};\n","import React, { Component } from \"react\";\nimport styled,{keyframes} from \"styled-components\";\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\n\nconst slide = keyframes`\n  from {\n      opacity: 0;\n      transform: translateY(20px);\n  }\n  to {\n      opacity: 1;\n      transform: translateY(0);\n  }\n`\n\nconst Wrapper = styled.div`\n  position:relative;\n  border-radius:2vw;\n  border: solid 1px ${theme.secondaryColor};\n  width:12vw;\n  height:12vw;\n  max-height:12vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  background-color:#ffffff;\n  &:hover{\n    transform: scale(1.04);\n\n  }\n  margin:0.8vw;\n  box-shadow: 0.4vw 0.4vw ${theme.secondaryColor};\n\n  @media ${devices.mobile} {\n    width:22vw;\n    height:22vw;\n    max-height:22vw;\n  }\n`;\n\nconst Title = styled.h3`\n  font-size: 1.2vw\n  margin: 0.5vw;\n  font-family: \"Nunito\";\n  font-weight: 700\n  animation: ${slide} 1s ease;\n\n  @media ${devices.mobile} {\n    font-size: 2vw\n  }\n`;\n\nconst Description = styled.p`\n  font-size: 1.1vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  margin: 1vw 0.5vw;\n  animation: ${slide} 2s ease;\n\n  @media ${devices.mobile} {\n    font-size: 1.8vw\n  }\n`;\n\nconst Overlay = styled.div`\nwidth:12vw;\nheight:12vw;\nmax-height:12vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\n// background:${theme.secondaryColor};\nopacity: 0.95;\nposition:absolute;\ntop:0;\nleft:0;\ndisplay: flex;\nalign-items: center;\n\n`;\n\nconst FeatureButton = styled.button`\n border-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\n\noverflow:scroll;\nmargin:auto;\nmargin-bottom:1vw;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:#ffffff;\noutline:none;\n\n`;\n\n\nexport const FeatureType = {selectable: 1, selected: 2, disabled: 3, placeHolder:4};\n\n\nclass Feature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      overlay:false\n    };\n  }\n\n  render() {\n    let overlay = null;\n    if(!(this.props.featureType == FeatureType.disabled) && this.state.overlay){\n      overlay = <Overlay>\n        <FeatureButton onClick={()=>{this.setState({overlay:false}); this.props.clickHandler(this.props)}}>{this.props.featureType == FeatureType.selectable ? \"Add to drone\" : \"Remove\"}</FeatureButton>\n      </Overlay>\n    }\n    return (\n      <Wrapper isDisabled={this.props.featureType == FeatureType.disabled} onMouseEnter={() => {this.setState({overlay:true})}} onMouseLeave={() => {this.setState({overlay:false})}}>\n        <Title>{this.props.title}</Title>\n        <Description>{this.props.description}</Description>\n        {overlay}\n      </Wrapper>\n  )\n\n    return null;\n  }\n}\n\nexport default Feature;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n// import {devices} from \"../devices\";\n\n\nconst Wrapper = styled.div`\n  border-radius:.8vw;\n  border: solid 1px #ffffff;\n  background-color:#d1119c;\n  width:6vw;\n  height:3vw;\n  max-height:3vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  padding:0.5vw;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n\n  font-size: 1.2vw\n  margin: 0.2vw;\n  font-family: \"Nunito\";\n  font-weight: 700\n  color:#ffffff;\n`;\n\n\n\nclass Button extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  render() {\n    return (\n      <Wrapper>{this.props.Text}</Wrapper>\n  )\n\n    return null;\n  }\n\n\n\n}\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\n\nimport {theme} from \"../colorTheme\";\n\n\nconst Wrapper = styled.div`\n  border-radius:0.5vw;\n  border: solid 1px ${theme.primaryColor};\n  width:${props => props.small? 7:9}vw;\n  height:${props => props.small? 4:9}vw;\n  max-height:${props => props.small? 4:9}vw;\n  text-align: center;\n  overflow:scroll;\n  padding:0.5vw;\n  background-color:#ffffff;\n  margin:auto;\n`;\n\nconst Title = styled.div`\n  font-size: 1.2vw\n  margin: 0.2vw;\n  font-family: \"Nunito\";\n  font-weight: 700;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst Description = styled.div`\n  font-size: 1.1vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n  min-height:40%;\n  display:${props => props.small?'none' : 'block'}\n`;\n\nclass NewFeature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <Wrapper small={this.props.small}>\n        <Title>{this.props.title}</Title>\n        <Description small={this.props.small}>{this.props.description}</Description>\n      </Wrapper>\n    )\n    return null;\n  }\n}\n\nexport default NewFeature;\n","export function isGibberish(string, minLength){\n\n    if (!string) return true\n    \n    if(string.length<minLength) return true\n\n    if(string.toLowerCase().includes(\"test\")) return true\n\n    return detectGibberishFromModel(string)\n\n}\n\n\n\nfunction detectGibberishFromModel(string){\n    var pair;\n    var prob = 0.0;\n    string = normalizeString(string)\n    for(var i=0; i<string.length-1; i++){\n        pair = string.charAt(i) + \"\" + string.charAt(i + 1);\n        prob += model[pair]\n    }\n    return Math.exp(prob/(string.length-1)) < 0.0187820034731\n}\n\nfunction normalizeString(line){\n    var validCharacters = \"abcdefghijklmnopqrstuvwxyz \";\n    line = line.toLowerCase();\n    for(var i=0; i<line.length;i++){\n        if(!validCharacters.includes(\"\"+line.charAt(i))){\n            line = line.substring(0,i)+\"#\"+line.substring(i+1);\n        }\n    }\n\n    line = line.replace(/#/g,\"\");\n    return line;\n}\n\n\n\nlet model = {\"  \":-3.2910629924454486,\"c \":-3.8668737299247438,\"aa\":-8.569137312930899,\"ab\":-3.9369332597631863,\"ac\":-3.220670162697391,\"ad\":-3.0482479869676102,\"ae\":-6.052279063336297,\"af\":-4.69956099775001,\"ag\":-3.9941585968087816,\"ah\":-6.710407217596661,\"ai\":-3.2453041060602184,\"aj\":-7.060740255010108,\"ak\":-4.512283359624297,\"al\":-2.4997201529644935,\"am\":-3.642636781640966,\"an\":-1.5707462805725019,\"ao\":-7.978468801653891,\"ap\":-3.8936418102220776,\"aq\":-9.821900281426267,\"ar\":-2.3025283782801376,\"as\":-2.348366425382398,\"at\":-1.9448651421947813,\"au\":-4.539158126663701,\"av\":-3.871849760115083,\"aw\":-4.706359120463831,\"ax\":-6.560313338465017,\"ay\":-3.649725323207633,\"az\":-6.641954302926283,\"d \":-0.5394468422260206,\"ba\":-2.5528619980785,\"bb\":-5.139226208055755,\"bc\":-6.049719822245583,\" a\":-2.154456318300654,\"bd\":-6.219404795035026,\" b\":-3.132028909232904,\"be\":-1.173596307609444,\" c\":-3.204240273221435,\"bf\":-8.563954087128105,\" d\":-3.554775966080049,\"bg\":-8.805116143944993,\" e\":-3.8320798875631166,\"bh\":-8.494961215641153,\" f\":-3.2625149066892174,\"bi\":-3.3328454702735173,\" g\":-4.1318426237305275,\"bj\":-5.004532700251055,\" h\":-2.7847122791384975,\"bk\":-8.805116143944993,\" i\":-2.7534204117779435,\"bl\":-2.139085063222716,\" j\":-5.68607428491371,\"bm\":-6.121607051758899,\" k\":-5.271518205104294,\"bn\":-6.808562262070924,\" l\":-3.779792629468334,\"bo\":-2.1459387811703974,\" m\":-3.352468498262208,\"bp\":-8.312639658847198,\" n\":-3.8123859357235683,\"bq\":-8.900426323749317,\" o\":-2.644532475328425,\"br\":-2.719375008855968,\" p\":-3.3676057306367433,\"bs\":-3.788438535392774,\" q\":-6.237872536056438,\"bt\":-4.703224376087508,\" r\":-3.6809218434868227,\"bu\":-2.137350056136624,\" s\":-2.7030074975159986,\"bv\":-6.320209494156992,\" t\":-1.86142386740762,\"bw\":-7.676650892127201,\" u\":-4.4723885304095425,\"bx\":-8.900426323749317,\" v\":-4.918696830481552,\"by\":-2.3611294272462486,\" w\":-2.8042850405884527,\"bz\":-8.900426323749317,\" x\":-7.783949528282384,\" y\":-4.702039558487341,\" z\":-8.486442571260568,\"e \":-1.1291364595675442,\"ca\":-2.08946313988477,\"cb\":-9.398284978640158,\"cc\":-3.8466182187208457,\"cd\":-7.678499009037193,\"ce\":-1.7391136109740999,\"cf\":-8.792149175069843,\"cg\":-9.580606535434113,\"ch\":-1.9093388132314668,\"ci\":-2.9331775988939013,\"cj\":-9.485296355629789,\"ck\":-3.343650033348159,\"cl\":-3.276523430584318,\"cm\":-8.515895798441685,\"cn\":-8.838669190704735,\"co\":-1.6000355228278762,\"cp\":-9.485296355629789,\"cq\":-6.386023403134956,\"cr\":-3.377666241879603,\"cs\":-5.838186314392146,\"ct\":-2.3909106346293085,\"cu\":-3.2184408726543063,\"cv\":-9.485296355629789,\"cw\":-8.838669190704735,\"cx\":-9.580606535434113,\"cy\":-4.621264535725407,\"cz\":-8.299672689972049,\"f \":-0.9976707550554195,\"da\":-3.7200475908408235,\"db\":-7.418434550575756,\"dc\":-7.88681348409449,\"dd\":-4.564865474086475,\"de\":-1.9699465394791131,\"df\":-6.796896902393934,\"dg\":-5.430448837645974,\"dh\":-6.754155354016663,\"di\":-2.4627220077183942,\"dj\":-6.277375571660389,\"dk\":-7.666270714480338,\"dl\":-4.558326450319418,\"dm\":-5.5188785108919935,\"dn\":-5.946484744877372,\"do\":-3.117009722931763,\"dp\":-8.380471304238116,\"dq\":-8.136274343726074,\"dr\":-3.6243165394601604,\"ds\":-3.6811521539816408,\"dt\":-7.1936663035345445,\"du\":-3.9941983786827824,\"dv\":-5.568764165402863,\"dw\":-7.077327311450395,\"dx\":-9.928033812954128,\"dy\":-4.613843097249801,\"dz\":-9.745712256160173,\"g \":-1.0302198528344138,\"ea\":-3.0956911156796725,\"eb\":-6.3279563530093395,\"ec\":-3.711394117529345,\"ed\":-2.414309096615009,\"ee\":-3.7280101535107066,\"ef\":-4.555095809949321,\"eg\":-4.9582369569836615,\"eh\":-6.340824177620733,\"ei\":-4.465115884463944,\"ej\":-8.043262266521952,\"ek\":-7.012917948982845,\"el\":-3.4395652463282116,\"em\":-3.7489856294972617,\"en\":-2.389153595060143,\"eo\":-5.281198278652138,\"ep\":-4.426598784036354,\"eq\":-6.265131628349503,\"er\":-1.976271246918681,\"es\":-2.519225987547763,\"et\":-3.7331106440131854,\"eu\":-6.05129367580717,\"ev\":-4.115226028040922,\"ew\":-4.719249301196115,\"ex\":-4.451178867151557,\"ey\":-4.535588241035776,\"ez\":-7.731754615658102,\"h \":-2.3623088007577695,\"fa\":-2.7634422911455703,\"fb\":-7.9114774546442685,\"fc\":-7.529542843946299,\"fd\":-8.494623739989885,\"fe\":-2.451100566435661,\"ff\":-2.926120215794328,\"fg\":-7.612234559791412,\"fh\":-8.53718335440868,\"fi\":-2.4505074466080714,\"fj\":-9.033620240722573,\"fk\":-8.72823859117139,\"fl\":-3.748243385450271,\"fm\":-8.839464226281615,\"fn\":-7.66534438510536,\"fo\":-1.9043799278633868,\"fp\":-8.305381740351358,\"fq\":-9.370092477343785,\"fr\":-2.3558173549839756,\"fs\":-5.929674382528349,\"ft\":-3.315653131074415,\"fu\":-3.5058932812816797,\"fv\":-9.370092477343785,\"fw\":-7.801476559429941,\"fx\":-9.370092477343785,\"fy\":-6.135343303319295,\"fz\":-9.370092477343785,\"i \":-3.788398987959084,\"ga\":-2.681117318742622,\"gb\":-8.560252680876685,\"gc\":-8.083328608786376,\"gd\":-6.8862762473050125,\"ge\":-1.9631827738890724,\"gf\":-7.924263914156688,\"gg\":-4.61975020412667,\"gh\":-2.2213641819441556,\"gi\":-2.8612966495974126,\"gj\":-9.148039345778804,\"gk\":-8.560252680876685,\"gl\":-3.35807917488155,\"gm\":-6.075346031088684,\"gn\":-3.7399711152716475,\"go\":-2.831958278425978,\"gp\":-7.954116877306369,\"gq\":-9.052729165974478,\"gr\":-2.5526687518888194,\"gs\":-4.062915199691808,\"gt\":-4.943346726387837,\"gu\":-3.494498087559349,\"gv\":-9.148039345778804,\"gw\":-7.579423427864958,\"gx\":-9.148039345778804,\"gy\":-5.882279935011752,\"gz\":-8.617411094716633,\"j \":-4.859215923580492,\"ha\":-1.8949866865832032,\"hb\":-7.38720654177459,\"hc\":-8.05310407988716,\"hd\":-7.542278456121169,\"he\":-0.7286353651447546,\"hf\":-7.858315754328075,\"hg\":-9.589971299486425,\"hh\":-8.779041083270096,\"hi\":-1.9951372153459488,\"hj\":-10.100796923252416,\"hk\":-7.885223207247999,\"hl\":-6.635061020452689,\"hm\":-6.261344610659105,\"hn\":-6.705170586639715,\"ho\":-2.5617698674284206,\"hp\":-9.253499062865211,\"hq\":-10.100796923252416,\"hr\":-4.5720294302077304,\"hs\":-6.222675469499951,\"ht\":-3.764561336708525,\"hu\":-4.622243506401445,\"hv\":-9.541181135316993,\"hw\":-7.3816968859636205,\"hx\":-10.28311848004637,\"hy\":-5.024581983510178,\"hz\":-10.187808300242045,\"k \":-1.4288566755523215,\"ia\":-3.712244886548001,\"ib\":-4.717475282130211,\"ic\":-2.783984370515817,\"id\":-3.2216013768067646,\"ie\":-3.1683365236496233,\"if\":-3.90382545586124,\"ig\":-3.680790547058952,\"ih\":-9.119304544100272,\"ii\":-6.422989599216483,\"ij\":-10.323277348426208,\"ik\":-5.240838322200969,\"il\":-3.0795261367137394,\"im\":-3.173687619686372,\"in\":-1.3126793991869439,\"io\":-2.664381175855551,\"ip\":-4.9236074876178835,\"iq\":-7.895529112478156,\"ir\":-3.409705684122631,\"is\":-2.051579832828198,\"it\":-2.1011937452905483,\"iu\":-6.511074678280273,\"iv\":-3.8167461832949807,\"iw\":-9.672689782285058,\"ix\":-6.168308164387673,\"iy\":-10.410288725415837,\"iz\":-5.511770729440288,\"l \":-2.0434097729831913,\"ja\":-2.3427609160575655,\"jb\":-6.1024094410597085,\"jc\":-6.037870919922137,\"jd\":-6.507874549167873,\"je\":-1.4153520955994334,\"jf\":-6.245510284700382,\"jg\":-6.17140231254666,\"jh\":-6.325552992373918,\"ji\":-5.51462277615759,\"jj\":-6.507874549167873,\"jk\":-6.245510284700382,\"jl\":-6.412564369363548,\"jm\":-6.325552992373918,\"jn\":-6.507874549167873,\"jo\":-1.2783714986201964,\"jp\":-6.412564369363548,\"jq\":-6.325552992373918,\"jr\":-6.1024094410597085,\"js\":-6.1024094410597085,\"jt\":-6.245510284700382,\"ju\":-1.1002544477293865,\"jv\":-6.507874549167873,\"jw\":-6.245510284700382,\"jx\":-6.507874549167873,\"jy\":-6.507874549167873,\"jz\":-6.507874549167873,\"m \":-1.8968318511898539,\"ka\":-3.6194933584945135,\"kb\":-7.047703539402737,\"kc\":-6.062419936041631,\"kd\":-7.671857848475732,\"ke\":-1.2114318817004575,\"kf\":-6.285563487355841,\"kg\":-6.824559988088527,\"kh\":-3.6311485020862624,\"ki\":-1.7851984157338754,\"kj\":-7.814958692116405,\"kk\":-7.489536291681777,\"kl\":-3.88766821455747,\"km\":-6.036102627724257,\"kn\":-2.3543916630889337,\"ko\":-3.8417682258102714,\"kp\":-7.546694705521725,\"kq\":-7.9820127767795706,\"kr\":-5.48206824962703,\"ks\":-3.0008999219496366,\"kt\":-6.6910285954640045,\"ku\":-3.73872587983735,\"kv\":-7.2444138336487915,\"kw\":-5.438265626968637,\"kx\":-8.077322956583895,\"ky\":-4.682814563072537,\"kz\":-8.077322956583895,\"n \":-1.4656789800236865,\"la\":-2.269183388314388,\"lb\":-6.573297799694782,\"lc\":-5.745479365449931,\"ld\":-2.8596367214634224,\"le\":-1.7841347050080587,\"lf\":-4.144047900909572,\"lg\":-6.844091654118041,\"lh\":-7.7437746495925355,\"li\":-2.175115871017978,\"lj\":-9.701519256294851,\"lk\":-4.956587127931601,\"ll\":-2.065933606191924,\"lm\":-5.060338632783727,\"ln\":-6.492693767280152,\"lo\":-2.4508837443961715,\"lp\":-5.604400767190025,\"lq\":-9.701519256294851,\"lr\":-5.648286082315182,\"ls\":-3.879460040714278,\"lt\":-3.864517937852428,\"lu\":-3.8209862698941515,\"lv\":-5.091361528795721,\"lw\":-5.466205750947557,\"lx\":-9.883840813088806,\"ly\":-2.333600268348952,\"lz\":-8.602906967626742,\"o \":-2.2129736790077486,\"ma\":-1.7539942375247688,\"mb\":-3.6841198980845076,\"mc\":-6.559311098803656,\"md\":-8.439623965373157,\"me\":-1.3654444296574595,\"mf\":-6.4075846625879045,\"mg\":-9.337565558579115,\"mh\":-8.238953269911006,\"mi\":-2.4389427631602505,\"mj\":-9.17051147391595,\"mk\":-8.902247487321269,\"ml\":-6.206031743866062,\"mm\":-3.641082386404525,\"mn\":-5.662416297277081,\"mo\":-2.2280575251437695,\"mp\":-2.6972144960398214,\"mq\":-9.432875738383439,\"mr\":-5.501050105659114,\"ms\":-3.5381974599631496,\"mt\":-6.907147094075184,\"mu\":-3.4685254837670296,\"mv\":-9.250554181589486,\"mw\":-8.071899185247839,\"mx\":-9.432875738383439,\"my\":-3.424799925470261,\"mz\":-9.432875738383439,\"p \":-2.9363486388485507,\"na\":-3.41157713428474,\"nb\":-6.728285208389976,\"nc\":-3.0909427430720093,\"nd\":-1.740264825689735,\"ne\":-2.5015190512398306,\"nf\":-4.817371901371758,\"ng\":-2.113210530516431,\"nh\":-6.807749379744223,\"ni\":-3.295792549094097,\"nj\":-6.252798951069294,\"nk\":-4.917797884336954,\"nl\":-4.632769841879079,\"nm\":-5.98877585293416,\"nn\":-4.66665175664129,\"no\":-2.876759518067293,\"np\":-7.603753945743875,\"nq\":-6.864465609186075,\"nr\":-7.187239001449126,\"ns\":-3.052336215755031,\"nt\":-2.2647479268985964,\"nu\":-4.9001580949910455,\"nv\":-5.348959516586179,\"nw\":-7.14773655847288,\"nx\":-7.454376544669275,\"ny\":-4.546351845156791,\"nz\":-8.807726750069811,\"q \":-5.540437610773254,\"oa\":-5.082241389138844,\"ob\":-5.142393631993602,\"oc\":-4.276598353328924,\"od\":-4.085216817689867,\"oe\":-5.759968385010914,\"of\":-2.174773615995364,\"og\":-5.288621572218711,\"oh\":-6.090174110360315,\"oi\":-4.4715723308194235,\"oj\":-6.90687468303798,\"ok\":-4.432658655412265,\"ol\":-3.2277431063139637,\"om\":-2.8212923556513845,\"on\":-1.7681088393713913,\"oo\":-3.5156224239092224,\"op\":-3.9518016568316168,\"oq\":-8.986316224717816,\"or\":-2.1664590794141954,\"os\":-3.3712131841519417,\"ot\":-3.1224483347145418,\"ou\":-2.2101893882141153,\"ov\":-3.5450716407123704,\"ow\":-3.1404797504673136,\"ox\":-6.663111844521034,\"oy\":-5.51344438505264,\"oz\":-7.704225641127928,\"r \":-1.7281348556024396,\"pa\":-2.136265349667144,\"pb\":-7.648749930275526,\"pc\":-6.522163789565011,\"pd\":-8.503165258431594,\"pe\":-1.734614577170007,\"pf\":-6.50168525822147,\"pg\":-7.785325465281278,\"ph\":-3.642577960578998,\"pi\":-2.654272848600284,\"pj\":-8.454375094262163,\"pk\":-7.861311372259199,\"pl\":-2.3851781986138283,\"pm\":-6.363099094935324,\"pn\":-7.294204912594619,\"po\":-2.116201767527298,\"pp\":-2.7907534570773387,\"pq\":-9.196312438991539,\"pr\":-1.7868731941606955,\"ps\":-3.8487288311405847,\"pt\":-3.2942257030347744,\"pu\":-3.1971277688684197,\"pv\":-9.196312438991539,\"pw\":-7.0800569241889875,\"px\":-9.196312438991539,\"py\":-4.987152202340858,\"pz\":-9.196312438991539,\"s \":-0.9911300598753203,\"qa\":-6.182291496945648,\"qb\":-6.182291496945648,\"qc\":-6.182291496945648,\"qd\":-6.182291496945648,\"qe\":-6.182291496945648,\"qf\":-6.182291496945648,\"qg\":-6.182291496945648,\"qh\":-6.182291496945648,\"qi\":-6.182291496945648,\"qj\":-6.182291496945648,\"qk\":-6.182291496945648,\"ql\":-6.182291496945648,\"qm\":-6.182291496945648,\"qn\":-6.182291496945648,\"qo\":-6.182291496945648,\"qp\":-6.182291496945648,\"qq\":-6.182291496945648,\"qr\":-6.182291496945648,\"qs\":-6.182291496945648,\"qt\":-6.182291496945648,\"qu\":-0.057170565024993084,\"qv\":-6.182291496945648,\"qw\":-6.182291496945648,\"qx\":-6.182291496945648,\"qy\":-6.182291496945648,\"qz\":-6.182291496945648,\"t \":-1.5835253210583506,\"ra\":-2.5722807952437394,\"rb\":-5.99205725679638,\"rc\":-4.319316764551239,\"rd\":-3.7284294070555273,\"re\":-1.4225483817556492,\"rf\":-5.357231686671419,\"rg\":-4.331760927128789,\"rh\":-6.033757985995324,\"ri\":-2.364541745819138,\"rj\":-9.405183209323809,\"rk\":-4.850464566831816,\"rl\":-4.673556599383159,\"rm\":-3.74500437214974,\"rn\":-3.916576116332641,\"ro\":-2.322164557359624,\"rp\":-5.413979406021222,\"rq\":-9.0405400957359,\"rr\":-3.636862213530037,\"rs\":-2.9016138569514562,\"rt\":-3.2345687965875074,\"ru\":-3.9816438780223904,\"rv\":-4.905818082232694,\"rw\":-6.257588586460572,\"rx\":-10.13915238440401,\"ry\":-3.2585970253485272,\"rz\":-8.070182142591468,\"u \":-3.2700350935700784,\"sa\":-3.2090119684802527,\"sb\":-6.334899523154303,\"sc\":-4.093299064417374,\"sd\":-7.59203503906228,\"se\":-2.1586345703035548,\"sf\":-6.182995193953419,\"sg\":-7.849503332917564,\"sh\":-2.915257814589145,\"si\":-2.7754710419906368,\"sj\":-9.550291023939893,\"sk\":-4.551024457450397,\"sl\":-4.707131510786311,\"sm\":-4.589272322367449,\"sn\":-6.243245073400844,\"so\":-2.968928515714967,\"sp\":-3.853927304671137,\"sq\":-7.00903143760076,\"sr\":-8.243133983378726,\"ss\":-2.8108514947509753,\"st\":-2.1177557637833035,\"su\":-3.256550330868065,\"sv\":-7.865503674264006,\"sw\":-5.380597024476005,\"sx\":-10.383200146874996,\"sy\":-5.201416596582911,\"sz\":-9.913196517629261,\"v \":-3.1228109057348257,\"ta\":-3.1682706209020797,\"tb\":-8.217706195099385,\"tc\":-5.878899838671022,\"td\":-9.525219678366163,\"te\":-2.3388918749787213,\"tf\":-7.172402459885784,\"tg\":-8.478432457562638,\"th\":-1.1074718716074006,\"ti\":-2.3662341497302157,\"tj\":-10.456777882371107,\"tk\":-9.689522729657439,\"tl\":-4.418539855249544,\"tm\":-6.032391973858083,\"tn\":-7.21960886445558,\"to\":-2.3367153961191565,\"tp\":-8.16191483547097,\"tq\":-10.719142146838596,\"tr\":-3.4624215669877803,\"ts\":-3.6797447588047447,\"tt\":-4.0251990917417855,\"tu\":-3.9002180815630756,\"tv\":-9.555991337032916,\"tw\":-5.18259559155831,\"tx\":-10.131355481936478,\"ty\":-4.204725796166784,\"tz\":-7.984774637419013,\"w \":-2.172728230713227,\"ua\":-3.6907063474960813,\"ub\":-3.7341336409281,\"uc\":-3.2454721262149633,\"ud\":-4.020608712629845,\"ue\":-3.281297978688059,\"uf\":-5.0172437658127595,\"ug\":-3.1933271849501734,\"uh\":-7.7963898885987,\"ui\":-3.73111886626001,\"uj\":-9.35453450664525,\"uk\":-6.208229374611885,\"ul\":-2.257675168572427,\"um\":-3.4112977818505237,\"un\":-2.089862646254399,\"uo\":-6.096437968623768,\"up\":-3.100705695069777,\"uq\":-8.949069398537086,\"ur\":-1.905375903432984,\"us\":-1.9722545836234537,\"ut\":-1.9648676140617645,\"uu\":-9.274491798971713,\"uv\":-6.7831953510849425,\"uw\":-9.35453450664525,\"ux\":-7.31765257938421,\"uy\":-7.3735330377786665,\"uz\":-5.267158613739243,\"x \":-2.5557039896270073,\"va\":-2.4677551327310105,\"vb\":-8.46601472297182,\"vc\":-8.561324902776146,\"vd\":-7.868177722216201,\"ve\":-0.5192363285514866,\"vf\":-8.561324902776146,\"vg\":-8.298960638308655,\"vh\":-8.46601472297182,\"vi\":-1.7429474349452256,\"vj\":-8.46601472297182,\"vk\":-7.919471016603751,\"vl\":-5.443374996497906,\"vm\":-8.561324902776146,\"vn\":-4.566800675836256,\"vo\":-2.7892609207035393,\"vp\":-8.561324902776146,\"vq\":-8.561324902776146,\"vr\":-6.268790145635601,\"vs\":-4.407140340198028,\"vt\":-7.973538237874027,\"vu\":-6.289199017266808,\"vv\":-8.379003345982191,\"vw\":-8.030696651713976,\"vx\":-8.46601472297182,\"vy\":-5.258107929474194,\"vz\":-8.561324902776146,\"y \":-0.3817890191036424,\"wa\":-1.596798460957614,\"wb\":-7.6001421705956735,\"wc\":-7.640964165115928,\"wd\":-5.344648685135478,\"we\":-1.8921021056868312,\"wf\":-6.839336341561913,\"wg\":-8.110967794361665,\"wh\":-1.6228272590921338,\"wi\":-1.7628783045649916,\"wj\":-8.87310784640856,\"wk\":-7.001305669506969,\"wl\":-5.467159861987808,\"wm\":-8.179960665848615,\"wn\":-3.2183655671770013,\"wo\":-2.524218636471301,\"wp\":-8.293289351155618,\"wq\":-9.209580083029774,\"wr\":-4.57000847032435,\"ws\":-4.2425484264156506,\"wt\":-5.65423202154036,\"wu\":-7.560921457442392,\"wv\":-9.209580083029774,\"ww\":-7.307472556632853,\"wx\":-9.209580083029774,\"wy\":-6.877436187794184,\"wz\":-9.02725852623582,\"z \":-3.1699327078256037,\"xa\":-2.254780968033424,\"xb\":-6.898209866138606,\"xc\":-2.027603216646053,\"xd\":-6.492744758030441,\"xe\":-2.462642464536694,\"xf\":-5.833499129146177,\"xg\":-6.898209866138606,\"xh\":-4.310445830910898,\"xi\":-2.0731012597852527,\"xj\":-6.898209866138606,\"xk\":-6.898209866138606,\"xl\":-6.42820623689287,\"xm\":-6.715888309344651,\"xn\":-6.898209866138606,\"xo\":-4.4558628307694015,\"xp\":-1.4955324842663262,\"xq\":-6.3675816150764355,\"xr\":-4.636446767664815,\"xs\":-5.766807754647505,\"xt\":-1.8703897472882491,\"xu\":-4.37248122183035,\"xv\":-4.348764695213034,\"xw\":-6.802899686334281,\"xx\":-4.473407140420311,\"xy\":-5.175443268397502,\"xz\":-6.898209866138606,\"ya\":-3.872874353532438,\"yb\":-6.07983833755968,\"yc\":-5.605956228985375,\"yd\":-6.1495716755743555,\"ye\":-2.9181087352006836,\"yf\":-5.833140189836589,\"yg\":-6.998723104610883,\"yh\":-7.317176835729417,\"yi\":-3.8266394412494407,\"yj\":-8.857621876676566,\"yk\":-7.45070822835394,\"yl\":-4.745382824577915,\"ym\":-4.447858487031085,\"yn\":-5.448125692199715,\"yo\":-2.2255103117197566,\"yp\":-4.737230605516364,\"yq\":-9.03994343347052,\"yr\":-5.751541545953709,\"ys\":-3.132676045163294,\"yt\":-4.230201081753655,\"yu\":-7.038463433260397,\"yv\":-7.65364907235063,\"yw\":-6.230540738108023,\"yx\":-7.70494236673818,\"yy\":-8.16447469611662,\"yz\":-7.731610613820342,\"za\":-2.531179599331457,\"zb\":-6.00314605188182,\"zc\":-5.907835872077495,\"zd\":-4.694813232231641,\"ze\":-0.9292230185496455,\"zf\":-5.907835872077495,\"zg\":-6.00314605188182,\"zh\":-3.199785670975285,\"zi\":-2.3395844057521735,\"zj\":-6.00314605188182,\"zk\":-5.666673815260607,\"zl\":-3.886890537079268,\"zm\":-4.0016660516716955,\"zn\":-5.009894278871537,\"zo\":-1.7362497244615696,\"zp\":-6.00314605188182,\"zq\":-6.00314605188182,\"zr\":-6.00314605188182,\"zs\":-5.820824495087865,\"zt\":-5.907835872077495,\"zu\":-3.1183453390351104,\"zv\":-5.666673815260607,\"zw\":-5.907835872077495,\"zx\":-6.00314605188182,\"zy\":-4.568061526592497,\"zz\":-3.7731316517226094,\"a \":-2.7134701747591117,\"b \":-4.738423113053401}\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport Feature from \"./ReadOnlyFeature\"\n\nimport logo from '../drone.png';\n\nimport {isGibberish} from \"../utils.js\"\n\nimport {theme} from \"../colorTheme\"\n\n\n// import {devices} from \"../devices\";\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  display:flex;\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 2px ${theme.primaryColor};\n  transition: transform .8s;\n  height:80vh;\n  width:80vw;\n  &:hover{\n    transform: scale(1.02);\n  }\n   margin:1vh;\n`;\n\nconst DroneImage = styled.img`\n  height: 30vw;\n  width: 30vw;\n  max-height:85vh;\n  max-width:85vh;\n  margin: auto;\n  margin-left:2vw\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nheight: 25vw;\n  width: 25vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\nmargin:auto;\n`;\n\nconst DroneName = styled.h2`\nfont-size: 2.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:center;\n`;\n\nconst StoryWrapper = styled.div`\nwidth: 40vw;\noverflow:scroll;\n`;\n\nconst MainStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  height:auto;\n  margin-top:2vh;\n  width: 35vw;\n  border-radius:1vw;\n   border: solid 1px ${theme.primaryColor};\n   padding:2vw;\n`;\n\nconst SubStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  width:35vw;\n  background-color:#D9D9D9;\n  margin: 2vh 0;\n  border-radius: 1vw;\n  padding:1vw 2vw;\n`;\n\nconst WriteButton = styled.button`\nborder-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nheight:3vw;\nmin-width:15vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\npadding:0.5vw;\nmargin: 2vh auto;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:#ffffff;\noutline:none;\n`;\n\nconst appear = keyframes`\n  from {\n      opacity: 0;\n      \n  }\n  to {\n      opacity: 1;\n      \n  }\n`\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  background-color: #D9D9D9;\n  border: solid 1px #BABABA;\n  margin: 5vh auto;\n  border-radius: 1vw;\n  animation: ${appear} 1s ease;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 1.3vw\nfont-family: \"Nunito\";\nfont-weight: 500\nwidth:35vw;\nheight: 30vh;\nbackground-color:#D9D9D9;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n \n  font-family: \"Roboto\";\n  font-weight: 700;\n  padding:2vw;\n \n  text-align:center;\n`;\n\nconst AutoSave = styled.p`\nfont-size: 1vw\nfont-family: \"Nunito\";\nfont-weight: 500;\ntext-align:right;\nmargin-right:1vw;\ncolor:#008920\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst Dummy = styled.div``;\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nconst LEFT_FACTOR = 22;\nconst TOP_FACTOR = 11;\nconst LEFT_0 = 7.4;\nconst TOP_0 = 9.4;\n\nvar characterInputCount = 0;\n\nclass DroneStory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      small: !props.selected,\n      newSubStoryID: null,\n      storyZoom: false,\n      renderStoryInput: false,\n      droneStory: \"\",\n      newStories:{},\n      autoSave:\"\"\n    };\n  }\n  componentDidMount() {\n  }\n\n  componentDidUpdate() {\n    if (this.state.renderStoryInput) {\n      this.end.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }\n\n  componentWillReceiveProps() {\n    this.setState({ renderStoryInput: false, newSubStoryID: null, autoSave:\"≥\" })\n  }\n\n  render() {\n    return (\n      <div>\n        <DroneWrapper ref=\"wrapper\"\n          small={this.state.small}\n          onBlur={() => this.updateSubStory()}\n        >\n          <DroneImage\n            small={this.state.small} src={logo} alt=\"logo\" ></DroneImage>\n          <Overlay small={this.state.small}>\n            {this.props.drone.features.map((item, key) =>\n              <FixedFeatureWrapper\n                top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2}\n                left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}\n              >\n                <Feature title={item.title} description={item.description} index={key}></Feature>\n              </FixedFeatureWrapper>\n            )}\n          </Overlay>\n          <StoryWrapper>\n            <DroneName>{this.props.drone.name}</DroneName>\n            <MainStory>{this.props.drone.mainStory ? this.props.drone.mainStory.text : \"\"}</MainStory>\n\n\n            {!this.state.renderStoryInput && <WriteButton onClick={() => { this.setState({ renderStoryInput: true }) }}>Add a story</WriteButton>}\n\n            {this.state.renderStoryInput && <StoryInputWrapper ref={(el) => { this.end = el; }}>\n              <StoryPrompt>{STORY_PROMPT}</StoryPrompt>\n              <StoryInput\n                placeholder={STORY_PLACEHOLDER}\n                onBlur={(ev) => { this.updateSubStory() }}\n                value={this.state.newStories[this.props.drone._id]}\n                onChange={(ev) => this.onDroneStoryChange(ev)}>\n              </StoryInput>\n              {/* <Arrow position={this.state.position}></Arrow> */}\n              <AutoSave>{this.state.autoSave}</AutoSave>\n            </StoryInputWrapper>}\n\n            <div >\n            </div>\n\n\n            {this.props.drone.subStories.map((item, key) =>\n              !item.isFlagged && item.text && !isGibberish(item.text,50) &&<SubStory>{item.text}</SubStory>\n            )}\n          </StoryWrapper>\n        </DroneWrapper>\n      </div>\n    )\n    return null;\n  }\n\n\n\n  onDroneStoryChange(ev) {\n\n    characterInputCount++;\n    this.setState({ droneStory: ev.target.value });\n    var newStories = this.state.newStories;\n    newStories[this.props.drone._id] = ev.target.value\n    this.setState({ newStories: newStories});\n    if(!ev.target.value){\n      this.setState({autoSave:\"\"})\n      this.updateSubStory();\n    }\n    if (characterInputCount > 10) {\n      characterInputCount = 0;\n      this.setState({autoSave:\"Auto Saving...\"})\n      this.updateSubStory();\n    }\n  }\n\n\n  updateSubStory() {\n    if (this.state.newStories[this.props.drone._id]) {\n      if (this.state.newSubStoryID != null) {\n        fetch('/stories/' + this.state.newSubStoryID,\n          {\n            method: 'PUT',\n            body: JSON.stringify({ text: this.state.droneStory }),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            this.setState({autoSave:\"Auto Saved\"})\n           }\n          );\n      } else {\n        this.createNewStory()\n      }\n    }\n  }\n\n  createNewStory() {\n    fetch('/stories/',\n      {\n        method: 'POST',\n        body: JSON.stringify({ text: this.state.droneStory }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        if (!data._id) {\n          return;\n        }\n        this.setState({ newSubStoryID: data._id });\n        var drone = this.props.drone;\n        if (!drone.subStories) {\n          drone.subStories = [data._id];\n        } else {\n          drone.subStories.push(data._id)\n        }\n        this.setState({autoSave:\"Auto Saved\"})\n        this.updateDrone(drone)\n      }\n      );\n  }\n\n  updateDrone(drone) {\n    fetch('/drones/' + drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n\n      }\n      );\n\n  }\n\n\n\n\n\n\n}\n\nexport default DroneStory;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport logo from '../drone.png';\nimport {theme} from \"../colorTheme\";\nimport DroneStory from \"./DroneStory\";\n\n\n\n\nconst slide = keyframes`\n  from {\n      opacity: 0;\n      // transform: translateY(5vh);\n  }\n  to {\n      opacity: 1;\n      // transform: translateY(0);\n  }\n`\n\nconst StoryImage = styled.img`\n  \n  max-height:60vh;\n  width: auto;\n  height: auto;\n  margin:auto;\n  \n\n`;\n\nconst StoryText = styled.h1`\n  font-size: 2.5vw\n  margin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n\n`;\n\nconst StoryBoard = styled.div`\nheight:100vh\ndisplay:flex;\nflex-direction:column;\njustify-content:space-evenly;\nanimation: ${slide} 4s ease;\n`;\n\n\nconst StartButton = styled.button`\nborder-radius: 0.5vw;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\n// height:5vw;\n// max-height:5vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\npadding:1vw;\nbackground-color:${props => props.fill?theme.secondaryColor :'#ffffff'};\ncolor: ${props => props.fill? '#ffffff': theme.secondaryColor};\ndisplay:inline;\n\nfont-size: 1.5vw\nmargin: auto 1vw;\nmargin-bottom: 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\noutline:none;\n\n`;\n\nconst SampleStory = styled.div`\nmax-height:60vh\ndisplay:flex;\njustify-content:space-evenly;\n\n\n`;\n\nconst SampleStoryContent = styled.div`\n// height:60vh\nwidth:40vw;\ndisplay:column;\nmargin:auto;\nmargin-top:10vh;\n// background-color:#D9D9D9;\npadding:2.5vw;\nborder: 3px solid #D9D9D9;\nborder-radius: 5% 10% 5% 4% / 2% ;\n`;\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst SampleStoryImage = styled.img`\n  \n  max-height:60vh;\n  width: auto;\n  height: auto;\n  margin:auto;\n`;\n\nconst SampleStoryText = styled.h1`\n  font-size: 1.9vw\n  margin: 1vh auto;\nfont-family: 'Caveat', cursive;\nfont-weight: 400;\ntext-align:left;\n`;\n\nconst SampleStoryTile = styled.h1`\n  font-size: 2.5vw\n  margin: 1vh auto;\nfont-family: 'Caveat', cursive;\nfont-weight: 900;\n`;\n\n\n\n\nconst Story = [\n  { text: \"This is a drone. It can fly as high as you want.\", imgSrc: require('../story1.jpg') },\n  { text: \"It can fly over trees, roads, or buildings...\", imgSrc: require('../story2.jpg') },\n  { text: \"You can control it from below.\", imgSrc: require('../story3.jpg') },\n  { text: \"You can add cool superpowers and turn it into your dream drone.\", imgSrc: require('../story4.jpg') }\n  // {text: \"And, you can tell us a story about your  dream drone.\", imgSrc: require('../story5.jpg') }\n\n];\n\nvar intervelRef = null;\n\nconst boards = [\n  <StoryBoard><StoryImage src={require('../story1.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"This is a drone. It can fly as high as you want.\"}</StoryText></StoryBoard>,\n  <StoryBoard><StoryImage src={require('../story2.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"It can fly over trees, roads, or buildings...\"}</StoryText></StoryBoard>,\n  <StoryBoard><StoryImage src={require('../story3.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"You can control it from below.\"}</StoryText></StoryBoard>,\n  <StoryBoard><StoryImage src={require('../story4.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"You can add cool superpowers and turn it into your dream drone...\"}</StoryText></StoryBoard>,\n  \n\n]\n\nvar boardDisplay = []\n\n\nexport default class StartView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      storyIndex: 0\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    this.setState({ storyIndex: 0 });\n    intervelRef = setInterval(this.runStorySequence, 5000)\n  }\n\n  componentDidUpdate() {\n    this.end.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  render() {\n\n    return (\n      <div ref=\"bottom\">\n        {boards.map((item, key) =>\n          this.state.storyIndex >= key && item\n        )}\n        {(this.state.storyIndex == boards.length  ) && \n          <StoryBoard>\n          <SampleStory>\n            {/* <SampleStoryImage src={require('../story5.jpg')} alt=\"logo\" ></SampleStoryImage> */}\n            <SampleStoryContent>\n              <SampleStoryTile>{\"Study Drone Bud\"}</SampleStoryTile>\n              <SampleStoryText>This drone is flown all over campus or office space. Its goal is to create the perfect environment for productivity. Have your office/study space be the perfect temperature. Ask it any question that you have and it will give you the right answer, it can also help you not get bored.\n        Its night vision is ideal to use when walking home from those long study sessions.</SampleStoryText>\n            </SampleStoryContent>\n            x\n          </SampleStory>\n          <StoryText>{\"and then, you can write a cool story about your dream drone!\"}</StoryText>\n          <div><StartButton fill={true} onClick={() => this.startClick()}>+ Create your own dream drone!</StartButton>\n          <StartButton onClick={() => this.props.history.push('/consent/view')}>View what others created</StartButton>\n          </div>\n          \n          </StoryBoard>\n        }\n        <div ref={(el) => { this.end = el; }}></div>\n      </div>\n    )\n    return null;\n  }\n\n  runStorySequence = () => {\n    var index = this.state.storyIndex;\n    if (index < boards.length) {\n      if(index <boards.length-1){\n        boardDisplay.push(boards[index])\n      }\n      index++;\n      this.setState({ storyIndex: index });\n\n    }\n    else (clearInterval(intervelRef))\n  }\n\n\n  startClick() {\n    this.props.history.push('/consent');\n\n    // fetch('/users/',\n    //   {\n    //     method: 'POST',\n    //     body: JSON.stringify({\n    //     }),\n    //     headers: {\n    //       'Accept': 'application/json, text/plain, */*',\n    //       'Content-Type': 'application/json',\n    //       'Mode': \"CORS\"\n    //     }\n    //   }).then(response => response.json())\n    //   .then(data => {\n    //     fetch('/drones/',\n    //       {\n    //         method: 'POST',\n    //         body: JSON.stringify({createdBy:data._id}),\n    //         headers: {\n    //           'Accept': 'application/json, text/plain, */*',\n    //           'Content-Type': 'application/json',\n    //           'Mode': \"CORS\"\n    //         }\n    //       }).then(response => response.json())\n    //       .then(data => {\n    //         console.log(data);\n    //         this.props.history.push('superpowers/' + data._id);\n    //       }\n    //       );\n\n    //   }\n    //   );\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature from \"./Feature\";\nimport StartView from \"./StartView\";\n\nconst Wrapper = styled.div`\n  margin: auto\n  width: 100%;\n  background-color:#f7f7f7;\n`;\n\nconst BlocksContainer = styled.div`\n  width: 80%;\n  margin: auto;\n`;\n\nconst Block = styled.div`\n  margin :auto;\n`;\n\nconst BlockName = styled.p`\n  margin:auto;\n`;\n\nconst BlockText = styled.textarea`\n  width:100%;\n  overflow: auto;\n  font-size: 10px;\n  height: 100px;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst Header = styled.h1`\n\n\n`;\n\nconst CreateBlockButton = styled.button`\n`;\n\nclass Root extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      blocks:[]\n    };\n  }\n\ncomponentDidMount() {\n\n}\n\n\nrender() {\n    return (\n      <div>\n        {/* <Header>My Dream Drone</Header> */}\n        <Wrapper>{this.renderMainContent()}</Wrapper>\n      </div>\n  )\n\n    return null;\n  }\n\n\nrenderMainContent(){\n  return(\n    \n      <StartView/>\n    \n  );\n}\n\n\n}\n\nexport default Root;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\n\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\nconst Wrapper = styled.div`\n  border-radius:2.5vw;\n  border: solid 2px ${theme.secondaryColor};\n  width:18vw;\n  height:18vw;\n  max-height:18vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  padding:0.5vw;\n  background-color:#ffffff;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n  box-shadow: 0.3vw 0.3vw ${theme.secondaryColor};\n\n  @media ${devices.mobile} {\n    width:28vw;\n    height:28vw;\n  }\n`;\n\nconst Title = styled.textarea`\n  font-size: 1.2vw\n  margin: 0.2vw;\n  font-family: \"Nunito\";\n  font-weight: 700;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst Description = styled.textarea`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n  min-height:52%;\n`;\n\nconst AddButton = styled.button`\nborder-radius:.8vw;\nborder: solid 1px ${props => props.disabled?'lightgrey':theme.secondaryColor};\nbackground-color:#ffffff;\ntransition: transform .3s;\ncursor: ${props => props.disabled?'not-allowed':'pointer'};\ntext-align: center;\nvertical-align: middle;\npadding:0.5vw 1vw;\n&:hover{\n  transform: scale(1.04);\n   background-color:${props => props.disabled?'#ffffff':theme.secondaryColor};\n  color:${props => props.disabled?'lightgrey':'#ffffff'};\n}\nfont-size: 1.2vw\nmargin:auto;\nmargin-bottom: 0vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${props => props.disabled?'lightgrey':theme.secondaryColor};\noutline:none;\n`;\n\nconst TITLE_PLACEHOLDER = \"Superpower Name\";\nconst DESCRIPTION_PLACEHOLDER = \"Breifly describe what this superpower is.\";\n\nclass NewFeature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      titlePlaceholder: TITLE_PLACEHOLDER,\n      description: \"\",\n      descriptionPlaceholder: DESCRIPTION_PLACEHOLDER\n    };\n  }\n\n  saveNewFeature() {\n\n  }\n\n  render() {\n    return (\n      <Wrapper>\n        <Title\n          placeholder={this.state.titlePlaceholder}\n          onClick={(ev) => { this.setState({ titlePlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ titlePlaceholder: TITLE_PLACEHOLDER }) }}\n          value={this.state.title}\n          onChange={(ev) => this.onTitleChange(ev)}\n          onKeyPress={(ev)=>this.onTitleKeyPress(ev)}>\n        </Title>\n\n        <Description\n          ref=\"description\"\n          placeholder={this.state.descriptionPlaceholder}\n          onClick={(ev) => { this.setState({ descriptionPlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ descriptionPlaceholder: DESCRIPTION_PLACEHOLDER }) }}\n          value={this.state.description}\n          onChange={(ev) => this.onDescriptionChange(ev)}>\n        </Description>\n\n        {this.renderAddButton()}\n      </Wrapper>\n    )\n    return null;\n  }\n\n  onTitleChange(ev) {\n    this.setState({ title: ev.target.value });\n  }\n\n  onTitleKeyPress(ev){\n    if(ev.key === 'Enter') {\n      ev.preventDefault();\n      this.refs.description.focus();\n    }\n  }\n\n  onDescriptionChange(ev) {\n    this.setState({ description: ev.target.value });\n  }\n\n  renderAddButton() {\n    if (this.state.title.length > 0 && this.state.description.length > 0) {\n      return <AddButton disabled={false}onClick={() => this.handleAddClick()}>Add to drone</AddButton>\n    }\n    return <AddButton disabled={true}>Add to drone</AddButton>\n  }\n\n  handleAddClick() {\n    fetch('/features/',\n      {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        this.props.clickHandler(data);\n        this.clear();\n      }\n      );\n  }\n\n  clear() {\n    this.setState({ title: \"\", description: \"\" })\n  }\n}\n\nexport default NewFeature;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport {theme} from \"../colorTheme\";\n\n\nconst DotWrapper = styled.div`\n  width: 15vw;\n  height: 2vw;\n  margin:50vh auto;\n  display:flex;\n  justify-content:space-around;\n`;\n\nconst Dot = styled.div`\n  width:${props => props.selected ? 1.1 : 1}vw;\n  height:${props => props.selected ? 1.1 : 1}vw;\n  background-color:${props => props.selected ? theme.primaryColor : '#DCDCDC'};\n  border-radius:5vw;\n`;\n\n\nconst ThankYouText = styled.h1`\n  font-size: 3vw\n  margin: 5vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n \n  margin-bottom:1vh;\n  margin-top:6vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:center;\n`;\n\n\n\nvar intervelRef;\nconst DOT_COUNT = 5;\n\n\nexport default class LoadingWidget extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      index: 0\n    };\n  }\n\n\n  componentDidMount() {\n    this.setState({ index: 0 });\n    intervelRef = setInterval(this.runLoadingWidgetSequence, 400)\n  }\n  \n  runLoadingWidgetSequence = () => {\n    var index = this.state.index;\n    index++;\n    if (index > DOT_COUNT) {\n      index = 0;\n    }\n    this.setState({ index: index });\n    //else (clearInterval(intervelRef))\n  }\n\n  render() {\n    return (\n\n        <DotWrapper>\n          {this.renderLoadingWidgetDots()}\n        </DotWrapper>\n\n    )\n    return null;\n  }\n\n  renderLoadingWidgetDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.index;\n    for (let i = 0; i < DOT_COUNT; i++) {\n      selected = i == index;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport NewFeature from \"./NewFeature\";\nimport LoadingWidget from \"./LoadingWidget\";\nimport {isGibberish} from \"../utils.js\"\nimport {devices} from \"../devices.js\"\n\n\n import {theme} from \"../colorTheme\";\nimport logo from '../drone.png';\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 6vh;\n  background-color: ${theme.primaryColor};\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    height: auto;\n  }\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n\n@media ${devices.mobile} {\n  font-size:2vh;\n  width:60vw;\n  text-align:left;\n  font-family: 'Nunito';\n  font-weight:700;\n  color:#ffffff;\n  margin:1vw;\n  letter-spacing: 0.1px\n}\n`;\n\nconst ContentWrapper = styled.div`\n  margin:auto 2vw;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 92vh;\n\n  @media ${devices.mobile} {\n    flex-direction:column;\n  }\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n  @media ${devices.mobile} {\n    margin:auto;\n  }\n\n`;\n\nconst Row = styled.div`\n  width:50vw;\n\n  @media ${devices.mobile} {\n    width:95vw;\n  }\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n\n@media ${devices.mobile} {\n  font-size: 1em\n}\n\n`;\n\nconst CircleButton = styled.button`\nborder-radius:100%;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nwidth:3vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\nbackground-color:${theme.secondaryColor};\ncolor:#ffffff;\n&:hover{\n  transform:scale(1.1);\n\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\noutline:none;\nmargin:auto 0.2vw;\n\n@media ${devices.mobile} {\n  width:6vw;\n  height:6vw;\n  max-height:6vw;\n  font-size: 4vw\n}\n\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n`;\n\n\nconst FeatureSet = styled.div`\n  width:50vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n  \n  @media ${devices.mobile} {\n    margin:auto;\n    width:90vw;\n  }\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst DotWrapper = styled.div`\n  width: 8vw;\n  height: 2vw;\n  margin:auto;\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    margin-top:2vh;\n  }\n\n  \n`;\n\nconst Dot = styled.div`\n  width:1vw;\n  height:1vw;\n  background-color:${props => props.selected ? theme.secondaryColor : '#DCDCDC'};\n  border-radius:5vw;\n`;\n\nconst FeaturePlaceholder = styled.div`\n  position:relative;\n  border-radius:2vw;\n  border: solid 1px #888888;\n  width:12vw;\n  height:12vw;\n  max-height:12vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  background-color:#efefef;\n  margin:0.8vw;\n  box-shadow: 0.4vw 0.4vw #888888;\n`;\n\nconst FEATURE_SET_SIZE = 12;\nconst VISIBLE_FEATURES_COUNT = 3;\n\nconst LEFT_FACTOR = 26;\nconst TOP_FACTOR = 13;\nconst LEFT_0 = 6.5;\nconst TOP_0 = 6.5;\n\nconst dummyArrayOfFour = [\"\", \"\", \"\", \"\"];\n\n\n\nvar featurePool = [\n  { title: \"Night Vision\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray\", description: \"Ability to see through physical objects\" },\n  { title: \"Night Visio 2\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam 2\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam 2\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray 2\", description: \"Ability to see through physical objects\" },\n  { title: \"Night Visio 3\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam 4\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam 5\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray 6\", description: \"Ability to see through physical objects\" },\n  { title: \"Night Visio 8\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam 8\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam 8\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray 8\", description: \"Ability to see through physical objects\" }\n\n];\n\nclass AddStoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visiblefeatureIndex: 0,\n      visibleFetures: [],\n      featureSet: [],\n      selectedFetures: [],\n      drone: null\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\";\n    //fetch features, populate the feature pool, populate featureset\n    fetch(\"/features/\")\n      .then(response => response.json())\n      .then(data => {\n        featurePool = data;\n        this.setFeatureSet(FEATURE_SET_SIZE);\n      });\n\n    //fetch the drone data using id\n    fetch(\"/drones/\" + this.props.match.params.id)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ drone: data });\n      });\n  }\n\n  updateDrone() {\n    fetch('/drones/' + this.state.drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state.drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => { console.log(data) }\n      );\n  }\n\n  render() {\n\n    if ((this.state.drone == null) && this.state.featureSet) return <LoadingWidget></LoadingWidget>;\n\n    return (\n      <Wrapper>\n        <Header>\n          <HeaderText>Step 1 of 3: Add superpowers to your dream drone</HeaderText>\n          {this.renderButton()}\n        </Header>\n        <ContentWrapper>\n          <DroneWrapper>\n            <DroneImage src={logo} alt=\"logo\" ></DroneImage>\n            <Overlay>\n              {/* <FeatureSet> */}\n              {dummyArrayOfFour.map((item, key) =>\n                <FixedFeatureWrapper top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2} left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}>\n                  <FeaturePlaceholder></FeaturePlaceholder>\n                </FixedFeatureWrapper>\n              )}\n\n              {this.state.drone.features.map((item, key) =>\n                <FixedFeatureWrapper top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2} left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}>\n                  <Feature title={item.title} description={item.description} clickHandler={this.handleFeaureClick.bind(this)} index={key}></Feature>\n                </FixedFeatureWrapper>\n              )}\n              {/* </FeatureSet> */}\n            </Overlay>\n          </DroneWrapper>\n\n          <RowWrapper>\n            <Row>\n              <RowHeader>Create a new superpower and add it to your drone</RowHeader>\n              <FeatureSet>\n                <NewFeature clickHandler={this.handleAddNewFeatureClick.bind(this)} />\n              </FeatureSet>\n            </Row>\n            <Row>\n              <RowHeader>or, choose from what others have created</RowHeader>\n              <FeatureSet>\n                <CircleButton onClick={() => this.handlePreviousClick()}>{'<'}</CircleButton>\n                {this.state.featureSet.slice(this.state.visiblefeatureIndex, this.state.visiblefeatureIndex + VISIBLE_FEATURES_COUNT).map((item, key) =>\n                  <Feature title={item.title} description={item.description} featureType={FeatureTypes.selectable} clickHandler={this.handleFeaureClick.bind(this)} index={this.state.visiblefeatureIndex + key}></Feature>\n                  , this)}\n                <CircleButton onClick={() => this.handleNextClick()}>></CircleButton>\n              </FeatureSet>\n              <Row>\n                <DotWrapper>\n                  {this.renderScrollDots()}\n                </DotWrapper>\n              </Row>\n            </Row>\n          </RowWrapper>\n        </ContentWrapper>\n      </Wrapper>\n    )\n  }\n\n  renderButton() {\n    if (this.state.drone.features.length > 0) {\n      return <Button onClick={() => { this.props.history.push('../story/' + this.state.drone._id) }}>Next</Button>\n    }\n    return null;\n  }\n\n  renderScrollDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.visiblefeatureIndex;\n    \n\n    for (let i = 0; i < FEATURE_SET_SIZE / VISIBLE_FEATURES_COUNT; i++) {\n      selected = i == index/VISIBLE_FEATURES_COUNT;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n\n  handleFeaureClick = (feature) => {\n    let drone = this.state.drone;\n    if (feature.featureType == FeatureTypes.selectable) {\n      if (drone.features.length >= 4){\n        this.displayMaxFeaturesAlert();\n        return\n      }\n      let featureSet = this.state.featureSet;\n      drone.features.push(featureSet[feature.index]);\n      if (featurePool.length) {\n        featureSet[feature.index] = featurePool.pop();\n        this.setState({ featureSet: featureSet });\n      } else {\n        //TODO: refresh pool\n      }\n\n    } else {\n      drone.features.splice(feature.index, 1); //remove button action\n\n    }\n    this.setState({ drone: drone });\n    this.updateDrone();\n  }\n\n  handleAddNewFeatureClick = (feature) => {\n    let drone = this.state.drone;\n    if (drone.features.length >= 4){\n      this.displayMaxFeaturesAlert();\n      return\n    }\n    drone.features.push(feature);\n    this.setState({ drone: drone });\n    this.updateDrone();\n  }\n\n  displayMaxFeaturesAlert(){\n    alert(\"Your dream drone can have a maximum of 4 superpowers.\");\n  }\n\n  handleNextClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index + VISIBLE_FEATURES_COUNT) < this.state.featureSet.length) {\n      this.setState({ visiblefeatureIndex: (index + VISIBLE_FEATURES_COUNT) })\n    }\n  }\n\n  handlePreviousClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index - VISIBLE_FEATURES_COUNT) >= 0) {\n      this.setState({ visiblefeatureIndex: (index - VISIBLE_FEATURES_COUNT) })\n    }\n  }\n\n  setFeatureSet(length) {\n    var featureSet = [];\n    for(var item of featurePool){\n      if(!isGibberish(item.title,4) && !isGibberish(item.description,8)){\n        featureSet.push(item);\n        if(featureSet.length>= length) {\n          break;\n        }\n      }\n    };\n    //featureSet = featurePool.splice(0, length)\n    this.setState({ featureSet: featureSet });\n  }\n\n\n\n\n\n\n}\n\nexport default AddStoryView;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\n\nimport {theme} from \"../colorTheme\";\n\nconst Wrapper = styled.div`\n  border-radius:1vw;\n   border: solid 1px ${theme.secondaryColor};\n  width:35vw;\n  height:35vw;\n  max-height:35vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  padding:0.1vw;\n  background-color:#ffffff;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst DroneName = styled.textarea`\n  font-size: 2vw\n  margin: 1vw;\n  font-family: \"Nunito\";\n  font-weight: 700;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst Description = styled.textarea`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n  min-height:60%;\n  min-width:90%;\n  margin-top:2vw;\n`;\n\nconst AutoSave = styled.p`\nfont-size: 1vw\nfont-family: \"Nunito\";\nfont-weight: 500;\ntext-align:right;\nmargin-right:1vw;\ncolor:#008920\n`;\n\nconst AddButton = styled.button`\nborder-radius:.8vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nwidth:6vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\npadding:0.5vw;\n\n&:hover{\n  transform: scale(1.04);\n  background-color:${theme.primaryColor};\n  color:#ffffff;\n\n}\n\nfont-size: 1.2vw\nmargin: 0.2vw;\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:${theme.primaryColor};\noutline:none;\n`;\n\nconst NAME_PLACEHOLDER = \"Drone name\";\nconst STORY_PLACEHOLDER = \"Tell us a story about your drone...\";\n\n var characterInputCount = 0;\n\nclass NewStory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      droneName: \"\",\n      droneNamePlaceholder: NAME_PLACEHOLDER,\n      droneStory: \"\",\n      droneStoryPlaceholder: STORY_PLACEHOLDER,\n      autoSave:\"\"\n    };\n  }\n\n  componentDidMount(){\n    if(this.props.name) this.setState({ droneName: this.props.name });\n    if(this.props.story) this.setState({ droneStory: this.props.story });\n  }\n\n  render() {\n    return (\n      <Wrapper onMouseLeave={(ev) => {this.changeHandler(); }}>\n        <DroneName\n          placeholder={this.state.droneNamePlaceholder}\n          onClick={(ev) => { this.setState({ droneNamePlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ droneNamePlaceholder: NAME_PLACEHOLDER }); this.changeHandler();}}\n          value={this.state.droneName}\n          onChange={(ev) => this.onDroneNameChange(ev)}>\n        </DroneName>\n\n        <Description\n          placeholder={this.state.droneStoryPlaceholder}\n          onClick={(ev) => { this.setState({ droneStoryPlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ droneStoryPlaceholder: STORY_PLACEHOLDER });}}\n          value={this.state.droneStory}\n          onChange={(ev) => this.onDroneStoryChange(ev)}>\n        </Description>\n        <AutoSave>{this.state.autoSave}</AutoSave>\n\n        {/* {this.renderAddButton()} */}\n      </Wrapper>\n    )\n    return null;\n  }\n\n  onDroneNameChange(ev) {\n    this.setState({ droneName: ev.target.value });\n  }\n\n  onDroneStoryChange(ev) {\n    characterInputCount++;\n    this.setState({ droneStory: ev.target.value });\n    if(characterInputCount > 10 ) {\n      characterInputCount = 0;\n      this.setState({autoSave:\"Auto Saving...\"})\n      this.changeHandler();\n      setInterval(()=>this.setState({autoSave:\"Auto Saved\"}),1500)\n    }\n\n    //hack\n    if(ev.target.value.length == 0){\n      this.setState({autoSave:\"\"})\n      this.props.callback({name:this.state.droneName, story:\"\"});\n    }\n    \n  }\n\n  changeHandler(){\n    this.props.callback({name:this.state.droneName, story:this.state.droneStory});\n  \n  }\n\n  renderAddButton() {\n   \n    if (this.state.droneName.length > 0 && this.state.droneStory.length > 0) {\n      return <AddButton onClick={() => this.handleAddClick()}>Add</AddButton>\n    }\n    return null;\n  }\n\n  handleAddClick() {\n    fetch('/features/',\n      {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        this.props.clickHandler(data);\n        this.clear();\n      }\n      );\n  }\n\n  clear() {\n    this.setState({ title: \"\", description: \"\" })\n  }\n}\n\nexport default NewStory;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport NewStory from \"./NewStory\";\nimport LoadingWidget from \"./LoadingWidget\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport logo from '../drone.png';\nimport {theme} from \"../colorTheme\";\n\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 6vh;\n  background-color: ${theme.primaryColor};\n  display:flex;\n  justify-content:space-around;\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n`;\n\n\nconst ContentWrapper = styled.div`\n  margin:auto;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 92vh;\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n`;\n\nconst Row = styled.div`\n  width:50vw;\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nmargin: 1vw;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n`;\n\n\n\nconst FeatureSet = styled.div`\n  width:50vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst LEFT_FACTOR = 26;\nconst TOP_FACTOR = 13;\nconst LEFT_0 = 6.5;\nconst TOP_0 = 6.5;\n\nconst STORY_PROMPT_TASK = \"Give your dream drone a cool name, and write a story about it.\"\nconst STORY_PROMPT_DESCRIPTION = \"Where does it fly? What does it do there and why?\"\n\n\n\nclass AddStoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drone: null\n\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\";\n    //fetch the drone data using id\n    fetch(\"/drones/\" + this.props.match.params.id)\n      .then(response => response.json())\n      .then(data => {\n        var drone = data;\n        if (!drone.mainStory) {\n          fetch('/stories/',\n            {\n              method: 'POST',\n              body: JSON.stringify({ text: \"\", createdBy:drone.createdBy._id }),\n              headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json',\n                'Mode': \"CORS\"\n              }\n            }).then(response => response.json())\n            .then(data => {\n              drone.mainStory = data;\n              this.setState({ drone: drone })\n              this.updateDrone();\n            }\n            );\n        } else {\n          this.setState({ drone: drone })\n          this.updateDrone();\n        }\n      });\n  }\n\n  updateDrone() {\n    fetch('/drones/' + this.state.drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state.drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => { }\n      );\n  }\n\n  updateStory(story) {\n\n    fetch('/stories/' + this.state.drone.mainStory._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify({ text: story }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n      }\n      );\n  }\n\n  render() {\n    if (this.state.drone == null) return <LoadingWidget></LoadingWidget>;\n\n    return (\n      <Wrapper>\n        <Header>\n        <Button onClick={() => { this.props.history.push('../superpowers/' + this.state.drone._id) }}>Back</Button>\n          <HeaderText>Step 2 of 3: Tell us a story about your drone</HeaderText>\n          \n          {this.renderButton()}\n        </Header>\n        <ContentWrapper>\n          <DroneWrapper>\n            <DroneImage src={logo} alt=\"logo\" ></DroneImage>\n            <Overlay>\n              {/* <FeatureSet> */}\n              {this.state.drone.features.map((item, key) =>\n                <FixedFeatureWrapper top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2} left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}>\n                  <Feature title={item.title} description={item.description} index={key} featureType={FeatureTypes.disabled}></Feature>\n                </FixedFeatureWrapper>\n              )}\n              {/* </FeatureSet> */}\n            </Overlay>\n          </DroneWrapper>\n\n          <RowWrapper>\n            <Row>\n              <RowHeader>{STORY_PROMPT_TASK}</RowHeader>\n              <RowHeader>{STORY_PROMPT_DESCRIPTION}</RowHeader>\n              <FeatureSet>\n                <NewStory name={this.state.drone.name} story={this.state.drone.mainStory.text} callback={this.callbackhandler.bind(this)} />\n              </FeatureSet>\n            </Row>\n          </RowWrapper>\n        </ContentWrapper>\n      </Wrapper>\n    )\n  }\n\n  renderButton() {\n\n    if (this.state.drone.name && this.state.drone.mainStory.text && this.state.drone.mainStory.text.length > 0) {\n      return <Button onClick={() => { this.props.history.push('../select/' + this.state.drone._id) }}>Next</Button>\n    }\n    return null;\n  }\n\n  callbackhandler = (data) => {\n    var drone = this.state.drone;\n    drone.name = data.name;\n    drone.mainStory.text = data.story;\n\n    this.setState({ drone: drone })\n    this.updateDrone();\n    this.updateStory(data.story)\n    \n\n  }\n\n}\n\n\n\nexport default AddStoryView;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport DroneStory from \"./DroneStory\"\nimport LoadingWidget from \"./LoadingWidget\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport {isGibberish} from \"../utils.js\"\n\n\nimport {theme} from \"../colorTheme\";\nimport logo from '../drone.png';\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 6vh;\n  background-color: ${theme.primaryColor};\n  display:flex;\n  justify-content:space-around;\n  z-index:100;\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n`;\n\nconst ContentWrapper = styled.div`\n  margin:auto;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 94vh;\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n`;\n\nconst Row = styled.div`\n\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nmargin: auto ;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n`;\n\nconst CircleButton = styled.button`\nborder-radius:100%;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:${theme.secondaryColor};\nwidth:3vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  transform:scale(1.1)\n\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:#ffffff;\noutline:none;\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n`;\n\n\nconst FeatureSet = styled.div`\n  width:100vw;\n  display:flex\n  justify-content:space-between;\n  margin:10px;\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst DroneStroryWrpper = styled.div`\n  width:90vw;\n  display:flex\n  justify-content:space-around;\n`;\n\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  width: 70vw;\n  min-height: 40vh;\n  background-color: #efefef;\n  margin: 5vh auto;\n  border-radius: 2vw;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 2vw\nmargin: 5vh;\nfont-family: \"Nunito\";\nfont-weight: 500\ncolor:${theme.primaryColor};\nwidth: 60vw;\nheight: 30vh;\nbackground-color:#efefef;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n  margin: auto;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  padding:2vw;\n \n  text-align:center;\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst DotWrapper = styled.div`\n  width: 15vw;\n  height: 2vw;\n  margin:auto;\n  display:flex;\n  justify-content:space-around;\n`;\n\nconst Dot = styled.div`\n  width:1vw;\n  height:1vw;\n  background-color:${props => props.selected ? theme.secondaryColor : '#DCDCDC'};\n  border-radius:5vw;\n`;\n\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nconst DRONE_SET_SIZE = 9;\nconst VISIBLE_DRONES_COUNT = 1;\n\nconst LEFT_FACTOR = 26;\nconst TOP_FACTOR = 13;\nconst LEFT_0 = 6.5;\nconst TOP_0 = 6.5;\n\nvar dronePool = [];\n\nclass SelectStoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visiblefeatureIndex: 0,\n      visibleFetures: [],\n      droneSet: [],\n      selectedFetures: [],\n      drone: null,\n      droneStory: \"\",\n      droneStoryPlaceholder: STORY_PLACEHOLDER,\n      position: -1,\n      renderStoryInput: false\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    \n    //fetch features, populate the feature pool, populate featureset\n    fetch(\"/random/drones/99\")\n      .then(response => response.json())\n      .then(data => {\n        for (var i = 0; i < data.length; i++) {\n          fetch(\"/drones/\" + data[i]._id)\n            .then(response => response.json())\n            .then(data => {\n              \n              !data.isFlagged && data.name && !isGibberish(data.name,5)&&dronePool.push(data);\n\n              if(this.state.droneSet.length<=0 && dronePool.length>DRONE_SET_SIZE){\n                this.setDroneSet(DRONE_SET_SIZE)\n              }\n            });\n        }\n        \n      });\n\n    //fetch the drone data using id\n    fetch(\"/drones/\" + this.props.match.params.id)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ drone: data });\n      });\n\n      \n  }\n\n  updateDrone() {\n    fetch('/drones/' + this.state.drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state.drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => { console.log(data) }\n      );\n  }\n\n  render() {\n\n    \n    if (this.state.drone == null) return <LoadingWidget></LoadingWidget>;\n\n    if(!this.state.droneSet.length>0) return <LoadingWidget></LoadingWidget>;\n\n    return (\n      <Wrapper>\n        <Header>\n          <Button onClick={() => { this.props.history.push('../story/' + this.state.drone._id) }}>Back</Button>\n          <HeaderText>Step 3 of 3: Write a story about someone else’s dream drone.</HeaderText>\n          {this.renderButton()}\n        </Header>\n        <ContentWrapper>\n\n\n          <RowWrapper>\n\n            <Row>\n              {/* <RowHeader>Pick a dream drone and add a story to it</RowHeader> */}\n              <FeatureSet>\n                <CircleButton onClick={() => this.handlePreviousClick()}>{'<'}</CircleButton>\n                <DroneStroryWrpper>\n                  {this.state.droneSet.slice(this.state.visiblefeatureIndex, this.state.visiblefeatureIndex + VISIBLE_DRONES_COUNT).map((item, key) =>\n                    <DroneStory drone={item}\n                      index={this.state.visiblefeatureIndex + key}\n                      callback={this.writeCallbackHandler.bind(this)}\n                      selected={this.state.position == key}\n                      disabled={this.state.position >= 0 || this.state.position != key}\n                    ></DroneStory>\n                    , this)}\n                </DroneStroryWrpper>\n\n                <CircleButton onClick={() => this.handleNextClick()}>></CircleButton>\n              </FeatureSet>\n            </Row>\n            {!this.state.renderStoryInput && <Row>\n              <DotWrapper>\n                {this.renderScrollDots()}\n              </DotWrapper>\n            </Row>}\n          </RowWrapper>\n        </ContentWrapper>\n\n\n        {/* {this.state.renderStoryInput && <StoryInputWrapper ref=\"bottom\">\n          <StoryPrompt>{STORY_PROMPT}</StoryPrompt>\n          <StoryInput\n            placeholder={this.state.droneStoryPlaceholder}\n            onClick={(ev) => { this.setState({ droneStoryPlaceholder: \"\" }) }}\n            onBlur={(ev) => { this.setState({ droneStoryPlaceholder: STORY_PLACEHOLDER }); }}\n            value={this.state.droneStory}\n            onChange={(ev) => this.onDroneStoryChange(ev)}>\n          </StoryInput>\n          <Arrow position={this.state.position}></Arrow>\n        </StoryInputWrapper>} */}\n\n      </Wrapper>\n    )\n  }\n\n  renderButton() {\n    if (this.state.drone.features.length > 0) {\n      return <Button onClick={() => { this.props.history.push('../complete/' + this.state.drone.createdBy._id) }}>Submit</Button>\n    }\n    return null;\n  }\n\n  writeCallbackHandler() {\n\n  }\n\n  onDroneStoryChange(ev) {\n    this.setState({ droneStory: ev.target.value });\n  }\n\n\n  handleNextClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index + VISIBLE_DRONES_COUNT) < this.state.droneSet.length) {\n      this.setState({ visiblefeatureIndex: (index + VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  handlePreviousClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index - VISIBLE_DRONES_COUNT) >= 0) {\n      this.setState({ visiblefeatureIndex: (index - VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  setDroneSet(length) {\n \n    var droneSet = [];\n    droneSet = dronePool.splice(0, length)\n    this.setState({ droneSet: droneSet });\n  }\n\n\n  renderScrollDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.visiblefeatureIndex;\n\n\n    for (let i = 0; i < DRONE_SET_SIZE / VISIBLE_DRONES_COUNT; i++) {\n      selected = i == index / VISIBLE_DRONES_COUNT;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n\n\n\n\n\n\n}\n\nexport default SelectStoryView;\n","export let countries = [\n    {\"name\": \"Afghanistan\", \"code\": \"AF\"},\n    {\"name\": \"Åland Islands\", \"code\": \"AX\"},\n    {\"name\": \"Albania\", \"code\": \"AL\"},\n    {\"name\": \"Algeria\", \"code\": \"DZ\"},\n    {\"name\": \"American Samoa\", \"code\": \"AS\"},\n    {\"name\": \"AndorrA\", \"code\": \"AD\"},\n    {\"name\": \"Angola\", \"code\": \"AO\"},\n    {\"name\": \"Anguilla\", \"code\": \"AI\"},\n    {\"name\": \"Antarctica\", \"code\": \"AQ\"},\n    {\"name\": \"Antigua and Barbuda\", \"code\": \"AG\"},\n    {\"name\": \"Argentina\", \"code\": \"AR\"},\n    {\"name\": \"Armenia\", \"code\": \"AM\"},\n    {\"name\": \"Aruba\", \"code\": \"AW\"},\n    {\"name\": \"Australia\", \"code\": \"AU\"},\n    {\"name\": \"Austria\", \"code\": \"AT\"},\n    {\"name\": \"Azerbaijan\", \"code\": \"AZ\"},\n    {\"name\": \"Bahamas\", \"code\": \"BS\"},\n    {\"name\": \"Bahrain\", \"code\": \"BH\"},\n    {\"name\": \"Bangladesh\", \"code\": \"BD\"},\n    {\"name\": \"Barbados\", \"code\": \"BB\"},\n    {\"name\": \"Belarus\", \"code\": \"BY\"},\n    {\"name\": \"Belgium\", \"code\": \"BE\"},\n    {\"name\": \"Belize\", \"code\": \"BZ\"},\n    {\"name\": \"Benin\", \"code\": \"BJ\"},\n    {\"name\": \"Bermuda\", \"code\": \"BM\"},\n    {\"name\": \"Bhutan\", \"code\": \"BT\"},\n    {\"name\": \"Bolivia\", \"code\": \"BO\"},\n    {\"name\": \"Bosnia and Herzegovina\", \"code\": \"BA\"},\n    {\"name\": \"Botswana\", \"code\": \"BW\"},\n    {\"name\": \"Bouvet Island\", \"code\": \"BV\"},\n    {\"name\": \"Brazil\", \"code\": \"BR\"},\n    {\"name\": \"British Indian Ocean Territory\", \"code\": \"IO\"},\n    {\"name\": \"Brunei Darussalam\", \"code\": \"BN\"},\n    {\"name\": \"Bulgaria\", \"code\": \"BG\"},\n    {\"name\": \"Burkina Faso\", \"code\": \"BF\"},\n    {\"name\": \"Burundi\", \"code\": \"BI\"},\n    {\"name\": \"Cambodia\", \"code\": \"KH\"},\n    {\"name\": \"Cameroon\", \"code\": \"CM\"},\n    {\"name\": \"Canada\", \"code\": \"CA\"},\n    {\"name\": \"Cape Verde\", \"code\": \"CV\"},\n    {\"name\": \"Cayman Islands\", \"code\": \"KY\"},\n    {\"name\": \"Central African Republic\", \"code\": \"CF\"},\n    {\"name\": \"Chad\", \"code\": \"TD\"},\n    {\"name\": \"Chile\", \"code\": \"CL\"},\n    {\"name\": \"China\", \"code\": \"CN\"},\n    {\"name\": \"Christmas Island\", \"code\": \"CX\"},\n    {\"name\": \"Cocos (Keeling) Islands\", \"code\": \"CC\"},\n    {\"name\": \"Colombia\", \"code\": \"CO\"},\n    {\"name\": \"Comoros\", \"code\": \"KM\"},\n    {\"name\": \"Congo\", \"code\": \"CG\"},\n    {\"name\": \"Congo, The Democratic Republic of the\", \"code\": \"CD\"},\n    {\"name\": \"Cook Islands\", \"code\": \"CK\"},\n    {\"name\": \"Costa Rica\", \"code\": \"CR\"},\n    {\"name\": \"Cote D'Ivoire\", \"code\": \"CI\"},\n    {\"name\": \"Croatia\", \"code\": \"HR\"},\n    {\"name\": \"Cuba\", \"code\": \"CU\"},\n    {\"name\": \"Cyprus\", \"code\": \"CY\"},\n    {\"name\": \"Czech Republic\", \"code\": \"CZ\"},\n    {\"name\": \"Denmark\", \"code\": \"DK\"},\n    {\"name\": \"Djibouti\", \"code\": \"DJ\"},\n    {\"name\": \"Dominica\", \"code\": \"DM\"},\n    {\"name\": \"Dominican Republic\", \"code\": \"DO\"},\n    {\"name\": \"Ecuador\", \"code\": \"EC\"},\n    {\"name\": \"Egypt\", \"code\": \"EG\"},\n    {\"name\": \"El Salvador\", \"code\": \"SV\"},\n    {\"name\": \"Equatorial Guinea\", \"code\": \"GQ\"},\n    {\"name\": \"Eritrea\", \"code\": \"ER\"},\n    {\"name\": \"Estonia\", \"code\": \"EE\"},\n    {\"name\": \"Ethiopia\", \"code\": \"ET\"},\n    {\"name\": \"Falkland Islands (Malvinas)\", \"code\": \"FK\"},\n    {\"name\": \"Faroe Islands\", \"code\": \"FO\"},\n    {\"name\": \"Fiji\", \"code\": \"FJ\"},\n    {\"name\": \"Finland\", \"code\": \"FI\"},\n    {\"name\": \"France\", \"code\": \"FR\"},\n    {\"name\": \"French Guiana\", \"code\": \"GF\"},\n    {\"name\": \"French Polynesia\", \"code\": \"PF\"},\n    {\"name\": \"French Southern Territories\", \"code\": \"TF\"},\n    {\"name\": \"Gabon\", \"code\": \"GA\"},\n    {\"name\": \"Gambia\", \"code\": \"GM\"},\n    {\"name\": \"Georgia\", \"code\": \"GE\"},\n    {\"name\": \"Germany\", \"code\": \"DE\"},\n    {\"name\": \"Ghana\", \"code\": \"GH\"},\n    {\"name\": \"Gibraltar\", \"code\": \"GI\"},\n    {\"name\": \"Greece\", \"code\": \"GR\"},\n    {\"name\": \"Greenland\", \"code\": \"GL\"},\n    {\"name\": \"Grenada\", \"code\": \"GD\"},\n    {\"name\": \"Guadeloupe\", \"code\": \"GP\"},\n    {\"name\": \"Guam\", \"code\": \"GU\"},\n    {\"name\": \"Guatemala\", \"code\": \"GT\"},\n    {\"name\": \"Guernsey\", \"code\": \"GG\"},\n    {\"name\": \"Guinea\", \"code\": \"GN\"},\n    {\"name\": \"Guinea-Bissau\", \"code\": \"GW\"},\n    {\"name\": \"Guyana\", \"code\": \"GY\"},\n    {\"name\": \"Haiti\", \"code\": \"HT\"},\n    {\"name\": \"Heard Island and Mcdonald Islands\", \"code\": \"HM\"},\n    {\"name\": \"Holy See (Vatican City State)\", \"code\": \"VA\"},\n    {\"name\": \"Honduras\", \"code\": \"HN\"},\n    {\"name\": \"Hong Kong\", \"code\": \"HK\"},\n    {\"name\": \"Hungary\", \"code\": \"HU\"},\n    {\"name\": \"Iceland\", \"code\": \"IS\"},\n    {\"name\": \"India\", \"code\": \"IN\"},\n    {\"name\": \"Indonesia\", \"code\": \"ID\"},\n    {\"name\": \"Iran, Islamic Republic Of\", \"code\": \"IR\"},\n    {\"name\": \"Iraq\", \"code\": \"IQ\"},\n    {\"name\": \"Ireland\", \"code\": \"IE\"},\n    {\"name\": \"Isle of Man\", \"code\": \"IM\"},\n    {\"name\": \"Israel\", \"code\": \"IL\"},\n    {\"name\": \"Italy\", \"code\": \"IT\"},\n    {\"name\": \"Jamaica\", \"code\": \"JM\"},\n    {\"name\": \"Japan\", \"code\": \"JP\"},\n    {\"name\": \"Jersey\", \"code\": \"JE\"},\n    {\"name\": \"Jordan\", \"code\": \"JO\"},\n    {\"name\": \"Kazakhstan\", \"code\": \"KZ\"},\n    {\"name\": \"Kenya\", \"code\": \"KE\"},\n    {\"name\": \"Kiribati\", \"code\": \"KI\"},\n    {\"name\": \"Korea, Democratic People's Republic of\", \"code\": \"KP\"},\n    {\"name\": \"Korea, Republic of\", \"code\": \"KR\"},\n    {\"name\": \"Kuwait\", \"code\": \"KW\"},\n    {\"name\": \"Kyrgyzstan\", \"code\": \"KG\"},\n    {\"name\": \"Lao People's Democratic Republic\", \"code\": \"LA\"},\n    {\"name\": \"Latvia\", \"code\": \"LV\"},\n    {\"name\": \"Lebanon\", \"code\": \"LB\"},\n    {\"name\": \"Lesotho\", \"code\": \"LS\"},\n    {\"name\": \"Liberia\", \"code\": \"LR\"},\n    {\"name\": \"Libyan Arab Jamahiriya\", \"code\": \"LY\"},\n    {\"name\": \"Liechtenstein\", \"code\": \"LI\"},\n    {\"name\": \"Lithuania\", \"code\": \"LT\"},\n    {\"name\": \"Luxembourg\", \"code\": \"LU\"},\n    {\"name\": \"Macao\", \"code\": \"MO\"},\n    {\"name\": \"Macedonia, The Former Yugoslav Republic of\", \"code\": \"MK\"},\n    {\"name\": \"Madagascar\", \"code\": \"MG\"},\n    {\"name\": \"Malawi\", \"code\": \"MW\"},\n    {\"name\": \"Malaysia\", \"code\": \"MY\"},\n    {\"name\": \"Maldives\", \"code\": \"MV\"},\n    {\"name\": \"Mali\", \"code\": \"ML\"},\n    {\"name\": \"Malta\", \"code\": \"MT\"},\n    {\"name\": \"Marshall Islands\", \"code\": \"MH\"},\n    {\"name\": \"Martinique\", \"code\": \"MQ\"},\n    {\"name\": \"Mauritania\", \"code\": \"MR\"},\n    {\"name\": \"Mauritius\", \"code\": \"MU\"},\n    {\"name\": \"Mayotte\", \"code\": \"YT\"},\n    {\"name\": \"Mexico\", \"code\": \"MX\"},\n    {\"name\": \"Micronesia, Federated States of\", \"code\": \"FM\"},\n    {\"name\": \"Moldova, Republic of\", \"code\": \"MD\"},\n    {\"name\": \"Monaco\", \"code\": \"MC\"},\n    {\"name\": \"Mongolia\", \"code\": \"MN\"},\n    {\"name\": \"Montserrat\", \"code\": \"MS\"},\n    {\"name\": \"Morocco\", \"code\": \"MA\"},\n    {\"name\": \"Mozambique\", \"code\": \"MZ\"},\n    {\"name\": \"Myanmar\", \"code\": \"MM\"},\n    {\"name\": \"Namibia\", \"code\": \"NA\"},\n    {\"name\": \"Nauru\", \"code\": \"NR\"},\n    {\"name\": \"Nepal\", \"code\": \"NP\"},\n    {\"name\": \"Netherlands\", \"code\": \"NL\"},\n    {\"name\": \"Netherlands Antilles\", \"code\": \"AN\"},\n    {\"name\": \"New Caledonia\", \"code\": \"NC\"},\n    {\"name\": \"New Zealand\", \"code\": \"NZ\"},\n    {\"name\": \"Nicaragua\", \"code\": \"NI\"},\n    {\"name\": \"Niger\", \"code\": \"NE\"},\n    {\"name\": \"Nigeria\", \"code\": \"NG\"},\n    {\"name\": \"Niue\", \"code\": \"NU\"},\n    {\"name\": \"Norfolk Island\", \"code\": \"NF\"},\n    {\"name\": \"Northern Mariana Islands\", \"code\": \"MP\"},\n    {\"name\": \"Norway\", \"code\": \"NO\"},\n    {\"name\": \"Oman\", \"code\": \"OM\"},\n    {\"name\": \"Pakistan\", \"code\": \"PK\"},\n    {\"name\": \"Palau\", \"code\": \"PW\"},\n    {\"name\": \"Palestinian Territory, Occupied\", \"code\": \"PS\"},\n    {\"name\": \"Panama\", \"code\": \"PA\"},\n    {\"name\": \"Papua New Guinea\", \"code\": \"PG\"},\n    {\"name\": \"Paraguay\", \"code\": \"PY\"},\n    {\"name\": \"Peru\", \"code\": \"PE\"},\n    {\"name\": \"Philippines\", \"code\": \"PH\"},\n    {\"name\": \"Pitcairn\", \"code\": \"PN\"},\n    {\"name\": \"Poland\", \"code\": \"PL\"},\n    {\"name\": \"Portugal\", \"code\": \"PT\"},\n    {\"name\": \"Puerto Rico\", \"code\": \"PR\"},\n    {\"name\": \"Qatar\", \"code\": \"QA\"},\n    {\"name\": \"Reunion\", \"code\": \"RE\"},\n    {\"name\": \"Romania\", \"code\": \"RO\"},\n    {\"name\": \"Russian Federation\", \"code\": \"RU\"},\n    {\"name\": \"RWANDA\", \"code\": \"RW\"},\n    {\"name\": \"Saint Helena\", \"code\": \"SH\"},\n    {\"name\": \"Saint Kitts and Nevis\", \"code\": \"KN\"},\n    {\"name\": \"Saint Lucia\", \"code\": \"LC\"},\n    {\"name\": \"Saint Pierre and Miquelon\", \"code\": \"PM\"},\n    {\"name\": \"Saint Vincent and the Grenadines\", \"code\": \"VC\"},\n    {\"name\": \"Samoa\", \"code\": \"WS\"},\n    {\"name\": \"San Marino\", \"code\": \"SM\"},\n    {\"name\": \"Sao Tome and Principe\", \"code\": \"ST\"},\n    {\"name\": \"Saudi Arabia\", \"code\": \"SA\"},\n    {\"name\": \"Senegal\", \"code\": \"SN\"},\n    {\"name\": \"Serbia and Montenegro\", \"code\": \"CS\"},\n    {\"name\": \"Seychelles\", \"code\": \"SC\"},\n    {\"name\": \"Sierra Leone\", \"code\": \"SL\"},\n    {\"name\": \"Singapore\", \"code\": \"SG\"},\n    {\"name\": \"Slovakia\", \"code\": \"SK\"},\n    {\"name\": \"Slovenia\", \"code\": \"SI\"},\n    {\"name\": \"Solomon Islands\", \"code\": \"SB\"},\n    {\"name\": \"Somalia\", \"code\": \"SO\"},\n    {\"name\": \"South Africa\", \"code\": \"ZA\"},\n    {\"name\": \"South Georgia and the South Sandwich Islands\", \"code\": \"GS\"},\n    {\"name\": \"Spain\", \"code\": \"ES\"},\n    {\"name\": \"Sri Lanka\", \"code\": \"LK\"},\n    {\"name\": \"Sudan\", \"code\": \"SD\"},\n    {\"name\": \"Suriname\", \"code\": \"SR\"},\n    {\"name\": \"Svalbard and Jan Mayen\", \"code\": \"SJ\"},\n    {\"name\": \"Swaziland\", \"code\": \"SZ\"},\n    {\"name\": \"Sweden\", \"code\": \"SE\"},\n    {\"name\": \"Switzerland\", \"code\": \"CH\"},\n    {\"name\": \"Syrian Arab Republic\", \"code\": \"SY\"},\n    {\"name\": \"Taiwan, Province of China\", \"code\": \"TW\"},\n    {\"name\": \"Tajikistan\", \"code\": \"TJ\"},\n    {\"name\": \"Tanzania, United Republic of\", \"code\": \"TZ\"},\n    {\"name\": \"Thailand\", \"code\": \"TH\"},\n    {\"name\": \"Timor-Leste\", \"code\": \"TL\"},\n    {\"name\": \"Togo\", \"code\": \"TG\"},\n    {\"name\": \"Tokelau\", \"code\": \"TK\"},\n    {\"name\": \"Tonga\", \"code\": \"TO\"},\n    {\"name\": \"Trinidad and Tobago\", \"code\": \"TT\"},\n    {\"name\": \"Tunisia\", \"code\": \"TN\"},\n    {\"name\": \"Turkey\", \"code\": \"TR\"},\n    {\"name\": \"Turkmenistan\", \"code\": \"TM\"},\n    {\"name\": \"Turks and Caicos Islands\", \"code\": \"TC\"},\n    {\"name\": \"Tuvalu\", \"code\": \"TV\"},\n    {\"name\": \"Uganda\", \"code\": \"UG\"},\n    {\"name\": \"Ukraine\", \"code\": \"UA\"},\n    {\"name\": \"United Arab Emirates\", \"code\": \"AE\"},\n    {\"name\": \"United Kingdom\", \"code\": \"GB\"},\n    {\"name\": \"United States\", \"code\": \"US\"},\n    {\"name\": \"United States Minor Outlying Islands\", \"code\": \"UM\"},\n    {\"name\": \"Uruguay\", \"code\": \"UY\"},\n    {\"name\": \"Uzbekistan\", \"code\": \"UZ\"},\n    {\"name\": \"Vanuatu\", \"code\": \"VU\"},\n    {\"name\": \"Venezuela\", \"code\": \"VE\"},\n    {\"name\": \"Viet Nam\", \"code\": \"VN\"},\n    {\"name\": \"Virgin Islands, British\", \"code\": \"VG\"},\n    {\"name\": \"Virgin Islands, U.S.\", \"code\": \"VI\"},\n    {\"name\": \"Wallis and Futuna\", \"code\": \"WF\"},\n    {\"name\": \"Western Sahara\", \"code\": \"EH\"},\n    {\"name\": \"Yemen\", \"code\": \"YE\"},\n    {\"name\": \"Zambia\", \"code\": \"ZM\"},\n    {\"name\": \"Zimbabwe\", \"code\": \"ZW\"}\n    ];\n\n\nexport let ageRanges = [\"18-25\", \"26-35\", \"36-45\", \"46-60\", \"60+\"];\n\nexport let genderOptions = [\"Female\", \"Male\", \"Other\", \"Prefer not to say\"];\n\nexport let droneOwnership = [\"Yes, I do.\", \"No, I don't\"];","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { countries as countries, genderOptions as genderOptions, ageRanges as ageRanges, droneOwnership as droneOwnership } from \"../selectOptions\";\nimport {theme} from \"../colorTheme\";\n\n\n\n\nconst ThankYouText = styled.h1`\n  font-size: 3vw\n  margin: 5vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n \n  margin-bottom:1vh;\n  margin-top:2vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:center;\n  padding:0.5vw;\n`;\n\n\nconst PromptContainer = styled.div`\nwidth: 50vw;\nmargin:auto;\nmargin-bottom:20vh;\n`;\n\nconst Prompt = styled.p`\n  font-size: 1.2vw\n  margin-bottom:1vh;\n  margin-top:5vh;\n  font-family: \"Roboto\";\n  font-weight: 500;\n  color:${theme.primaryColor};\n  text-align:left;\n`;\n\nconst TextField = styled.input`\n  font-size: 1.2vw;\n  width: 15vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:left;\n  border-radius:1vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n  height: 3vw;\n  text-align:center;\n  margin-top:2vh;\n\n`;\n\nconst SingleTextField = styled.input`\n  font-size: 1.2vw;\n  width: 15vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:left;\n  border-radius:0.6vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n  height: 3vw;\n\n  width: 49vw;\n  height: 3vw;\n  padding: 1vh;\n`;\n\n\nconst Select = styled.select`\n  width: 50vw;\n  height: 3vw;\n  background: white;\n  border: none;\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  border-radius:0.5vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n\n  option {\n    color: black;\n    background: white;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n    font-size: 1.2vw;\n    font-family: \"Roboto\";\n  font-weight: 400;\n  }\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nmin-width:10vw;\nheight:2.5vw;\nmax-height:2.5vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px #ffffff;\n\n\n\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 900\n\noutline:none;\nmargin: 0 2vw;\n`;\n\nconst SkipButton = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nmin-width:10vw;\nheight:2.5vw;\nmax-height:2.5vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.secondaryColor};\noutline:none;\n`;\n\n\nconst Wrapper = styled.div`\n  width: 50vw;\n  margin:8vh auto;\n  border-radius:1vw;\n  border: solid 1px #D9D9D9;\n  background-color: #D9D9D9;\n`;\n\n\nconst NameEmailWrapper = styled.div`\n  width: 40vw;\n  display:flex;\n  margin:auto;\n  justify-content:space-around;\n  margin-bottom:5vh;\n`;\n\nexport default class FinishView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOwning: {},\n      ageRange: {},\n      gender: {},\n      country: {},\n      background: \"\",\n      email: \"\",\n      name: \"\"\n    };\n  }\n\n  componentDidMount(){\n    document.title=\"Dream Drone\";\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <ThankYouText>Thanks for your creativity! </ThankYouText>\n\n        <PromptContainer>\n          <Message>We would like to know more about you. You can help our research by providing the following information.</Message>\n\n          <Prompt>Do you own a drone?</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ isOwning: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Select\n        </option>\n            {droneOwnership.map((item, key) =>\n              <option>{item}</option>\n            )}\n          </Select>\n\n          <Prompt>Your Age</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ ageRange: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Select age range\n        </option>\n            {ageRanges.map((item, key) =>\n              <option>{item}</option>\n            )}\n          </Select>\n\n          <Prompt>Your Gender</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ gender: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Your gender\n        </option>\n            {genderOptions.map((item, key) =>\n              <option>{item}</option>\n            )}\n          </Select>\n\n          <Prompt>Your Country</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ country: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Select Country\n        </option>\n            {countries.map((item, key) =>\n              <option>{item.name}</option>\n            )}\n          </Select>\n\n          <Prompt>Tell us about your background and/or area of interest</Prompt>\n          <SingleTextField\n            onChange={(ev) => { this.setState({ background: ev.target.value }) }}\n            value={this.state.background}\n            placeholder=\"e.g., I'm a drone hobbyist, I'm an industrial designer, I'm a climate change activist\"></SingleTextField>\n\n          <Wrapper>\n\n            <Message><strong>Could we contact you for a follow-up interview to help our research?</strong></Message>\n            <Message>If\n            you would like to be included in future research activities, please\nenter your name and the email below.</Message>\n\n            <NameEmailWrapper>\n              <TextField\n                placeholder=\"First Name\"\n                onChange={(ev) => { this.setState({ name: ev.target.value }) }}\n                value={this.state.name}></TextField>\n              <TextField\n                placeholder=\"Email Address\"\n                onChange={(ev) => { this.setState({ email: ev.target.value }) }}\n                value={this.state.email}></TextField>\n            </NameEmailWrapper>\n          </Wrapper>\n\n          <Button onClick={() => { this.handleSubmit() }}>Submit</Button>\n          <SkipButton onClick={() => { this.props.history.push('../allstories/'+ this.props.match.params.user_id) }}>Skip</SkipButton>\n\n        </PromptContainer>\n      </div>\n    )\n    return null;\n  }\n\n\n  handleSubmit() {\n    fetch('/users/' + this.props.match.params.user_id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n\n      }\n      );\n\n    this.props.history.push('../allstories/'+ this.props.match.params.user_id)\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport {theme} from \"../colorTheme\";\n\nimport DroneStory from \"./DroneStory\"\nimport LoadingWidget from \"./LoadingWidget\";\n\n\n\n\nconst ThankYouText = styled.h1`\n  font-size: 3vw\n  margin: 5vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n \n  margin-bottom:1vh;\n  margin-top:6vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:center;\n`;\n\n\n\n\nexport default class DoneView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drones:null\n    };\n  }\n\n\n\n  componentDidMount(){\n    document.title=\"Dream Drone\"\n    fetch(\"/random/drones/99\")\n      .then(response => response.json())\n      .then(data => {\n        this.setState({drones:data})\n        \n      });\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <ThankYouText>Done! </ThankYouText>\n        <Message>Thanks again for you time.</Message>\n        {/* {this.state.drones == null && <LoadingWidget></LoadingWidget>}\n        {this.state.drones != null && this.state.drones.map((item, key) => \n            !item.isFlagged && <DroneStory drone={item}></DroneStory>\n          )\n        } */}\n      </div>\n    )\n    return null;\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport {theme} from \"../colorTheme\";\n\n\nconst Wrapper = styled.div`\n  width: 60vw;\n  margin:auto;\n  margin-bottom:10vh;\n`;\nconst Title = styled.h1`\n  font-size: 3vw\n  margin: 6vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n  margin-bottom:1vh;\n  margin-top:3vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:left;\n`;\n\n\nconst StartButton = styled.button`\nborder-radius: 0.3vw\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nheight:3vw;\nwidth:10vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n\n\n\nfont-size: 1.3vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\n\n\noutline:none;\nmargin-top:5vh;\n\n`;\n\nexport default class ConsentView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      storyIndex: 0\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    window.scrollTo(0, 0)\n  }\n\n  render() {\n    return (\n      <Wrapper>\n        <Title>Before we proceed... </Title>\n        <Message>We are researchers from the Social and Digital Systems Group at Arizona State University (SANDS) working alongside Professor Stacey Kuznetsov from the School of Art Media and Engineering at ASU. </Message>\n        <Message>This \"dream drone\" web platform is developed by us as a research tool to learn how crowd-generated fictions can shape future drone technologies. This platform will take you along three different steps where you will have the opportunity to design your dream drone and share a story of how you will use it with us, and other participants! This platform will take between 15 - 20 minutes to navigate. </Message>\n        <Message>Your participation is 100% voluntary and you may quit or exit at any time. However, all your answers up to that point will be shared with us anonymously. </Message>\n        <Message>There are no foreseeable risks involved in participating in this study other than those\nencountered in day-to-day life. At the end of the survey, you will be asked if you are interested\nin participating in a follow-up interview. If you choose to provide contact information such as\nyour email address, your survey responses may no longer be anonymous to the researchers.\nThe contact information will be retained by the research team for up to three years. However, no\nnames or identifying information will be included in any publications or presentations based on\nthe data, and your responses will remain confidential. The results of this study may be used in\nreports, presentations, or publications but your name will not be used.</Message>\n        <Message>If you have any questions concerning the research study, please contact the research team: Piyum Fernando (<a href=\"mailto:pfernan4@asu.edu\">pfernan4@asu.edu</a>) | Alejandra Rodriguez Vega (<a href=\"mailto:ale.rodriguez@asu.edu\">ale.rodriguez@asu.edu</a>) | Stacey Kuznetsov (<a href=\"mailto:askuznet@asu.edu\">askuznet@asu.edu</a>).</Message>\n        <Message>If you have any questions about your rights as a participant in this research, or if you feel you have been placed at risk, you can contact the Chair of the Human Subjects Institutional Review Board, through the ASU Office of Research Integrity and Assurance, at (480) 965-6788.</Message>\n        <Message>Click on the “Proceed” button below to start. By clicking “Proceed” you consent that <strong>you are at least 18 years of age</strong>. We thank you in advance for your time and effort!</Message>\n        \n        <StartButton onClick={() => this.startClick()}>Proceed</StartButton>\n        \n      </Wrapper>\n    )\n    return null;\n  }\n\n\n  startClick() {\n   if (this.props.match.params.view) {\n      this.props.history.push('/allstories');\n      return\n   }\n    \n    fetch('/users/',\n      {\n        method: 'POST',\n        body: JSON.stringify({\n        }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        fetch('/drones/',\n          {\n            method: 'POST',\n            body: JSON.stringify({createdBy:data._id}),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            console.log(data);\n            this.props.history.push('superpowers/' + data._id);\n          }\n          );\n\n      }\n      );\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { theme } from \"../colorTheme\";\n\n\n\nconst HeaderContainer = styled.div`\n  width:100%;\n  position:fixed;\n\n  z-index:100;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height:10vh;\n  background-color: #50c3f7;\n`;\n\nconst SubHeader = styled.div`\n  width:100%;\n  height:8vh;\n  background-color:white;\n  box-shadow: 0px 2px 5px lightgrey;\n`;\n\nconst ModuleContainer = styled.div`\n  width:100%;\n  \n`;\n\n\nconst PlaceHolder = styled.div`\n  width:100%;\n  height:17vh;\n`;\n\n\nconst Module = styled.div`\n  width:100%;\n  height:80vh;\n  // background-color:lightgrey;\n  box-shadow: 0px 1px 20px lightgrey;\n  margin-bottom:5vh;\n \n`;\n\nconst ScrollContainer = styled.div`\n  width:100%;\n  height:60vh;\n  overflow:scroll;\n`;\n\nconst FirstModule = styled.div`\n  width:100%;\n  max-height:88vh;\n  // background-color:lightgrey;\n  box-shadow: 0px 10px 5px lightgrey;\n  margin-bottom:5vh;\n  overflow:scroll;\n  //padding-bottom:20vh;\n`;\n\nconst Circle = styled.div`\n  width:10vh;\n  height:10vh;\n  // background-color:#00BCD4;\n  margin:2vh auto;\n  border-radius:100vh;\n  border: solid 5px lightgrey\n`;\n\nconst CircleFull = styled.div`\n  width:10vh;\n  height:10vh;\n  background-color:#FFA40C;\n  margin:2vh auto;\n  border-radius:100vh;\n  border: solid 5px #FFA40C\n`;\n\nconst CircleEnabled = styled.div`\n  width:10vh;\n  height:10vh;\n  // background-color:#00BCD4;\n  margin:2vh auto;\n  border-radius:100vh;\n  border: solid 5px #FFA40C\n`;\n\n\nconst Title = styled.h1`\n  font-size: 5vh\n  margin: 2vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900;\ncolor:black;\n`;\n\nconst TitleDisabled = styled.h1`\n  font-size: 5vh\n  margin: 2vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900;\ncolor:lightgrey;\n`;\n\n\n\n\n\n\n\n\nexport default class TestView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      storyIndex: 0\n    };\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <HeaderContainer>\n          <Header></Header>\n          <SubHeader></SubHeader>\n        </HeaderContainer>\n        <ModuleContainer>\n          <FirstModule>\n            <PlaceHolder></PlaceHolder>\n            <Title>Module 1</Title>\n            <ScrollContainer>\n            <CircleFull></CircleFull>\n            <CircleEnabled></CircleEnabled>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            </ScrollContainer>\n          </FirstModule>\n\n          <Module>\n            <TitleDisabled>Module 2</TitleDisabled>\n            <ScrollContainer>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            </ScrollContainer>\n          </Module>\n\n          {/* <Module>\n            <TitleDisabled>Module 3</TitleDisabled>\n            <ScrollContainer>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            </ScrollContainer>\n          </Module> */}\n          \n\n        </ModuleContainer>\n      </div>\n    )\n    return null;\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\n\nimport {theme} from \"../colorTheme\"\nimport {isGibberish} from \"../utils.js\"\nimport { runInThisContext } from \"vm\";\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  margin:1vw;\n`;\n\nconst P = styled.p`\n  text-align:left; \n  margin:1vw;\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n  min-width:3vw;\n`;\n\nclass Data_Story extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFlagged:null\n  }\n  }\n\n  componentDidMount(){\n    this.setState({isFlagged:this.props.story.isFlagged})\n    this.catchGibberish();\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.story._id !== prevProps.story._id) {\n      this.setState({isFlagged:this.props.story.isFlagged})\n      this.catchGibberish();\n    }\n  }\n\n  catchGibberish(){\n    if(!this.state.isFlagged){\n      isGibberish(this.props.story.text, 20) && this.updateStory({isFlagged:true})\n    }\n  }\n  \n\nupdateStory(body) {\n    fetch('/stories/'+this.props.story._id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n           this.setState({isFlagged:data.isFlagged})\n           }\n          );\n  }\n\n  render() {\n\n    if (this.state.isFlagged == null){\n      return null;\n    }\n    return (\n      \n      !(this.props.filter&&this.props.story.isFlagged)&&<Wrapper>\n        <ToggleButton \n        onClick={()=>this.updateStory({isFlagged:!this.state.isFlagged})}\n        flagged={this.state.isFlagged}></ToggleButton>\n        <P>{this.props.story.text}</P>\n        \n      </Wrapper>\n    )\n    \n  }\n}\n\nexport default Data_Story;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\n\nimport {theme} from \"../colorTheme\"\nimport {isGibberish} from \"../utils.js\"\nimport { runInThisContext } from \"vm\";\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  margin:1vw;\n  border: solid 1px ${theme.primaryColor};\n`;\n\nconst P = styled.p`\n  text-align:left; \n  margin:1vw;\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n  min-width:3vw;\n`;\n\nclass Data_Feature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFlagged:null\n  }\n  }\n\n  componentDidMount(){\n    this.setState({isFlagged:this.props.feature.isFlagged})\n    this.catchGibberish();\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.feature._id !== prevProps.feature._id) {\n      this.setState({isFlagged:this.props.feature.isFlagged})\n      this.catchGibberish();\n    }\n  }\n\n  catchGibberish(){\n    if(!this.state.isFlagged){\n      isGibberish(this.props.feature.description, 5) && this.updateFeature({isFlagged:true})\n    }\n  }\n  \n\nupdateFeature(body) {\n    fetch('/features/'+this.props.feature._id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            \n           this.setState({isFlagged:data.isFlagged})\n           }\n          );\n  }\n\n  render() {\n\n    if (this.state.isFlagged == null){\n      return null;\n    }\n    return (\n      !(this.props.filter&&this.props.feature.isFlagged)&&this.props.feature.title && this.props.feature.description&&<Wrapper>\n        <ToggleButton \n        onClick={()=>this.updateFeature({isFlagged:!this.state.isFlagged})}\n        flagged={this.state.isFlagged}></ToggleButton>\n        <P><strong>{this.props.feature.title}</strong> {\":\"+ this.props.feature.description}</P>\n        \n      </Wrapper>\n    )\n    \n  }\n}\n\nexport default Data_Feature;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\n\nimport {theme} from \"../colorTheme\"\nimport {isGibberish} from \"../utils.js\"\nimport { runInThisContext } from \"vm\";\n\nimport Story from \"./Data_Story\"\nimport Feature from \"./Data_Feature\"\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  height:95vh;\n  width:100vw;\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n`;\n\nclass Data_Drone extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFlagged:this.props.drone.isFlagged\n    };\n  }\n\n  componentDidUpdate(){\n    //this.setState({isFlagged:this.props.drone.isFlagged})\n  }\n  \n\nupdateDrone(body) {\n    fetch('/drones/'+this.props.drone._id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n           this.setState({isFlagged:data.isFlagged})\n           this.props.drone.isFlagged = data.isFlagged\n           }\n          );\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>{this.props.drone.name}</h2>\n        <p>{JSON.stringify(this.props.drone.createdBy)}</p>\n        {/* <ToggleButton \n        flagged={this.props.drone.isFlagged}>{this.props.drone.isFlagged? 'Containes Gibberish' : 'No Gibberish'}</ToggleButton> */}\n        {this.props.drone.features.map((item, key)=>\n            // <p><strong>{item.title}</strong> : {item.description}</p>\n            <Feature feature={item}></Feature>\n        )}\n        {/* <p>{this.props.drone.mainStory && this.props.drone.mainStory.text}</p> */}\n        {this.props.drone.mainStory && <Story filter ={this.props.filter} story={this.props.drone.mainStory}></Story>}\n\n        {this.props.drone.subStories.map((item, key)=>\n          <Story filter ={this.props.filter} story={item}></Story>\n        )}\n        \n      </div>\n    )\n    \n  }\n\n\n\n  \n\n}\n\nexport default Data_Drone;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport Drone from \"./Data_Drone\";\nimport {isGibberish} from \"../utils.js\";\n\n\n\nimport {theme} from \"../colorTheme\"\nimport { CSVLink, CSVDownload } from \"react-csv\";\nimport { doesNotReject } from \"assert\";\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  height:80vh;\n  width:100vw;\n  margin:5vh 0;\n  padding-bottom:5vh\n`;\n\nconst DroneWrapper = styled.div`\n  display:flex;  \n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n  padding:1vw;\n  margin:1vw;\n`;\n\nconst FilterButton = styled.div`\n  \n  background-color:yellow;\n  position:absolute;\n  z-index:100;\n  top:0;\n  right:0;\n  width:20vw;\n  height:3vw;\n\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\n\nconst DroneImage = styled.img`\n  height: 30vw;\n  width: 30vw;\n  max-height:85vh;\n  max-width:85vh;\n  margin: auto;\n  margin-left:2vw\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nheight: 25vw;\n  width: 25vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\nmargin:auto;\n`;\n\nconst DroneName = styled.h2`\nfont-size: 2.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:center;\n`;\n\nconst StoryWrapper = styled.div`\nwidth: 40vw;\noverflow:scroll;\n`;\n\nconst MainStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  height:auto;\n  margin-top:2vh;\n  width: 35vw;\n  border-radius:1vw;\n   border: solid 1px ${theme.primaryColor};\n   padding:2vw;\n`;\n\nconst SubStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  width:35vw;\n  background-color:#D9D9D9;\n  margin: 2vh 0;\n  border-radius: 1vw;\n  padding:1vw 2vw;\n`;\n\nconst WriteButton = styled.button`\nborder-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nheight:3vw;\nmin-width:15vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\npadding:0.5vw;\nmargin: 2vh auto;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:#ffffff;\noutline:none;\n`;\n\nconst appear = keyframes`\n  from {\n      opacity: 0;\n      \n  }\n  to {\n      opacity: 1;\n      \n  }\n`\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  background-color: #D9D9D9;\n  border: solid 1px #BABABA;\n  margin: 5vh auto;\n  border-radius: 1vw;\n  animation: ${appear} 1s ease;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 1.3vw\nfont-family: \"Nunito\";\nfont-weight: 500\nwidth:35vw;\nheight: 30vh;\nbackground-color:#D9D9D9;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n \n  font-family: \"Roboto\";\n  font-weight: 700;\n  padding:2vw;\n \n  text-align:center;\n`;\n\nconst AutoSave = styled.p`\nfont-size: 1vw\nfont-family: \"Nunito\";\nfont-weight: 500;\ntext-align:right;\nmargin-right:1vw;\ncolor:#008920\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\n\n\n\nconst csvData = [\n  [\"firstname\", \"lastname\", \"email\"],\n  [\"Ahmed\", \"Tomi\", \"ah@smthing.co.com\"],\n  [\"Raed\", \"Labes\", \"rl@smthing.co.com\"],\n  [\"Yezzi\", \"Min l3b\", \"ymin@cocococo.com\"]\n];\n\n\nclass DataView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drones:null,\n      selectedDrone:null,\n      filter:false,\n      dronesCSV:[]\n    };\n  }\n  componentDidMount() {\n\n    fetch('/drones/',\n          {\n            method: 'GET',\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            let i = 0;\n            data.forEach(drone => {\n              if (!drone.isFlagged && (isGibberish(drone.name,5) || isGibberish(drone.mainStory.text,15))){\n                \n                this.updateDrone({isFlagged:true},drone._id,i)\n              }\n              //else this.updateDrone({isFlagged:false},drone._id)\n              i++;\n            });\n            this.setState({drones:data})\n            this.populateDroneCSV();\n           }\n           \n          );\n\n          \n  }\n\n  populateDroneCSV(){\n    let dronesCSV = []\n  \n    this.state.drones.forEach(drone => {\n      if (!drone.isFlagged){\n        let subStories = \"\"\n        let features = \"\"\n        drone.features.forEach(feature =>{\n          features += feature.title +\":\"+feature.description+\"\\n\"\n        })\n\n        drone.subStories.forEach(story =>{\n          if(!story.isFlagged){\n          subStories += \" \"+story.text +\"\\n\"\n          }\n        })\n\n        let droneObj = {\n          id:drone._id,\n          name:drone.name, \n          superPowers: features, \n          mainStory:drone.mainStory.text, \n          subStories: subStories,\n          createdDate: drone.createdDate,\n          createdBy: JSON.stringify(drone.createdBy)\n        }\n        dronesCSV.push(droneObj)\n      }\n    });\n    this.setState({dronesCSV:dronesCSV})\n  }\n\n  updateDrone(body,id,key) {\n    fetch('/drones/'+id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n          let drones =  this.state.drones;\n          drones[key].isFlagged = data.isFlagged;\n          this.setState({drones:drones})\n          this.populateDroneCSV();\n           }\n          );\n  }\n\n \n\n  render() {\n    if (this.state.drones == null) return null;\n    return (\n      <div>\n        <CSVLink \n        data={this.state.dronesCSV}\n        filename={\"drone_data.csv\"}\n        >Download CSV</CSVLink>\n        <FilterButton onClick={()=>this.setState({filter:!this.state.filter})}>{this.state.filter?'Turn Off Gib Filter' : 'Turn On Gib Filter'}</FilterButton>\n     \n      <Wrapper>\n        <LeftWrapper>\n          {this.state.drones.slice(0).reverse().map((item, key) => \n          !(this.state.filter&&item.isFlagged)&&<DroneWrapper><ToggleButton onClick={()=>this.updateDrone({isFlagged:!item.isFlagged},item._id,this.state.drones.length-key-1)} flagged={item.isFlagged}></ToggleButton><DroneListItem onClick={()=> {this.setState({selectedDrone:item})}}>{item._id +\": \"+item.name}</DroneListItem></DroneWrapper>)}\n        </LeftWrapper>\n        <RightWrapper>\n        {(this.state.selectedDrone != null) && <Drone filter ={this.state.filter} drone={this.state.selectedDrone}></Drone>}\n        </RightWrapper>\n      </Wrapper>\n      </div>\n    )\n    \n  }\n\n\n\n  \n\n}\n\nexport default DataView;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport DroneStory from \"./DroneStory\"\nimport LoadingWidget from \"./LoadingWidget\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport {isGibberish} from \"../utils.js\"\n\n\nimport {theme} from \"../colorTheme\";\nimport logo from '../drone.png';\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 12vh;\n  // background-color: ${theme.primaryColor};\n  background-color: white;\n  z-index:100;\n  position:fixed;\n  top:0;\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n`;\n\nconst ContentWrapper = styled.div`\n  margin:auto;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 94vh;\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n`;\n\nconst Row = styled.div`\n\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nmargin: auto ;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n`;\n\nconst CircleButton = styled.button`\nborder-radius:100%;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:${theme.secondaryColor};\nwidth:3vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  transform:scale(1.1)\n\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:#ffffff;\noutline:none;\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n`;\n\n\nconst FeatureSet = styled.div`\n  width:100vw;\n  display:flex\n  justify-content:space-between;\n  margin:10px;\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst DroneStroryWrpper = styled.div`\n  display:flex;\n  flex-direction:column;\n  justify-content:space-between;\n  \n  \n`;\n\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  width: 70vw;\n  min-height: 40vh;\n  background-color: #efefef;\n  margin: 5vh auto;\n  border-radius: 2vw;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 2vw\nmargin: 5vh;\nfont-family: \"Nunito\";\nfont-weight: 500\ncolor:${theme.primaryColor};\nwidth: 60vw;\nheight: 30vh;\nbackground-color:#efefef;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n  margin: auto;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  padding:2vw;\n \n  text-align:center;\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst DotWrapper = styled.div`\n  width: 15vw;\n  height: 2vw;\n  margin:auto;\n  display:flex;\n  justify-content:space-around;\n`;\n\nconst Dot = styled.div`\n  width:1vw;\n  height:1vw;\n  background-color:${props => props.selected ? theme.secondaryColor : '#DCDCDC'};\n  border-radius:5vw;\n`;\n\nconst TitleText = styled.h1`\n  font-size: 2vw\n  margin:auto;\n  margin-top:15vh;\n  margin-bottom:3vh;\n\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n \n  margin-bottom:1vh;\n  margin-top:2vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:center;\n  padding:0.5vw;\n`;\n\nconst CreateButton = styled.button`\nposition:absolute;\nright:2vh;\ntop:2vh;\nborder-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nmin-width:15vw;\nheight:8vh;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\npadding:0.5vw;\nfont-size: 1.5vw\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:#ffffff;\noutline:none;\n\n`;\n\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nconst DRONE_SET_SIZE = 3;\nconst VISIBLE_DRONES_COUNT = 1;\n\nconst LEFT_FACTOR = 26;\nconst TOP_FACTOR = 13;\nconst LEFT_0 = 6.5;\nconst TOP_0 = 6.5;\n\nvar dronePool = [];\n\nclass AllStoriesView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visiblefeatureIndex: 0,\n      visibleFetures: [],\n      droneSet: [],\n      selectedFetures: [],\n      drone: null,\n      droneStory: \"\",\n      droneStoryPlaceholder: STORY_PLACEHOLDER,\n      position: -1,\n      renderStoryInput: false,\n      createButtonText:\"+ Create your own dream drone\"\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    window.scrollTo(0, 0)\n\n    \n    //fetch features, populate the feature pool, populate featureset\n    fetch(\"/random/drones/99\")\n      .then(response => response.json())\n      .then(data => {\n        for (var i = 0; i < data.length; i++) {\n          fetch(\"/drones/\" + data[i]._id)\n            .then(response => response.json())\n            .then(data => {\n              \n              !data.isFlagged && data.name && !isGibberish(data.name,5)&&dronePool.push(data);\n\n              if(dronePool.length>DRONE_SET_SIZE){\n                this.setDroneSet(DRONE_SET_SIZE)\n              }\n            });\n        }\n        \n      });\n\n    //fetch the drone data using id\n    // fetch(\"/drones/\" + this.props.match.params.id)\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     this.setState({ drone: data });\n    //   });\n\n      \n  }\n\n  // updateDrone() {\n  //   fetch('/drones/' + this.state.drone._id,\n  //     {\n  //       method: 'PUT',\n  //       body: JSON.stringify(this.state.drone),\n  //       headers: {\n  //         'Accept': 'application/json, text/plain, */*',\n  //         'Content-Type': 'application/json',\n  //         'Mode': \"CORS\"\n  //       }\n  //     }).then(response => response.json())\n  //     .then(data => { console.log(data) }\n  //     );\n  // }\n\n  render() {\n\n    \n    // if (this.state.drone == null) return <LoadingWidget></LoadingWidget>;\n\n    if(!this.state.droneSet.length>0) return <LoadingWidget></LoadingWidget>;\n    return (\n      <Wrapper>\n        {this.props.match.params.user_id == undefined &&<Header>\n        <CreateButton onClick={()=>this.createButton()}> {this.state.createButtonText}</CreateButton>\n          </Header>}\n\n          {this.props.match.params.user_id ? <TitleText>Thanks Again! See more drone stories below. You can still add your own stories to them!</TitleText>:<TitleText>Browse through what others created and add your own stories to them!</TitleText>}\n        {/* <Message>You can add your own stories to someone else's dream drone! </Message> */}\n        <ContentWrapper>\n                <DroneStroryWrpper>\n                  {this.state.droneSet.map((item, key) =>\n                    <DroneStory drone={item}\n                      index={this.state.visiblefeatureIndex + key}\n                      callback={this.writeCallbackHandler.bind(this)}\n                      selected={this.state.position == key}\n                      disabled={this.state.position >= 0 || this.state.position != key}\n                    ></DroneStory>\n                    , this)}\n                </DroneStroryWrpper>\n\n        </ContentWrapper>\n      </Wrapper>\n    )\n  }\n\n  createButton() {\n    this.setState({createButtonText:\"Setting up...\"})\n    fetch('/users/',\n      {\n        method: 'POST',\n        body: JSON.stringify({\n        }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        fetch('/drones/',\n          {\n            method: 'POST',\n            body: JSON.stringify({createdBy:data._id}),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            console.log(data);\n            this.props.history.push('../superpowers/' + data._id);\n          }\n          );\n\n      }\n      );\n  }\n\n  writeCallbackHandler() {\n\n  }\n\n  onDroneStoryChange(ev) {\n    this.setState({ droneStory: ev.target.value });\n  }\n\n\n  handleNextClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index + VISIBLE_DRONES_COUNT) < this.state.droneSet.length) {\n      this.setState({ visiblefeatureIndex: (index + VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  handlePreviousClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index - VISIBLE_DRONES_COUNT) >= 0) {\n      this.setState({ visiblefeatureIndex: (index - VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  setDroneSet(length) {\n \n    var droneSet = [];\n    //droneSet = dronePool.splice(0, length)\n    droneSet = dronePool;\n    this.setState({ droneSet: droneSet });\n  }\n\n\n  renderScrollDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.visiblefeatureIndex;\n\n\n    for (let i = 0; i < DRONE_SET_SIZE / VISIBLE_DRONES_COUNT; i++) {\n      selected = i == index / VISIBLE_DRONES_COUNT;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n\n\n\n\n\n\n}\n\nexport default AllStoriesView;\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { Switch, Route } from \"react-router-dom\";\n\n\nimport Root from \"./components/Root\";\nimport Features from \"./components/AddFeaturesView\";\nimport Story from \"./components/AddStoryView\";\nimport Select from \"./components/SelectStoryView\";\nimport StartView from \"./components/StartView\";\nimport FinishView from \"./components/FinishView\";\nimport DoneView from \"./components/DoneView\";\nimport ConsentView from \"./components/ConsentView\";\nimport TestView from \"./components/TestView\";\nimport DataView from \"./components/DataView\";\nimport AllStroriesView from \"./components/AllStoriesView\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n          <Route exact path=\"/\" component={StartView} />\n          <Route\n            path=\"/superpowers/:id\"\n            component={Features}\n          />\n          <Route\n            path=\"/story/:id\"\n            component={Story}\n          />\n          <Route\n            path=\"/select/:id\"\n            component={Select}\n          />\n          <Route\n            path=\"/complete/:user_id\"\n            component={FinishView}\n          />\n          <Route\n            path=\"/done\"\n            component={DoneView}\n          />\n          <Route\n            path=\"/consent/:view?\"\n            component={ConsentView}\n          />\n          <Route\n            path=\"/test\"\n            component={TestView}\n          />\n          <Route\n            path=\"/data\"\n            component={DataView}\n          />\n          <Route\n            path=\"/allstories/:user_id?\"\n            component={AllStroriesView}\n          />\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\n\nReactDOM.render(\n    <BrowserRouter>\n    <App />\n  </BrowserRouter>, \n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}